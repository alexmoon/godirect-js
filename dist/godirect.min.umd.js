/**
 * Copyright (c) 2024 Vernier Software. All rights reserved.
 * This code may only be used under the BSD 3-Clause license found at
 * https://raw.githubusercontent.com/VernierST/godirect-js/main/LICENSE
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).godirect=e()}(this,(function(){"use strict";function t(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function u(e){t(a,o,i,u,c,"next",e)}function c(e){t(a,o,i,u,c,"throw",e)}u(void 0)}))}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p={exports:{}},h=function(t){return t&&t.Math==Math&&t},v=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof f&&f)||function(){return this}()||Function("return this")(),d=function(t){try{return!!t()}catch(t){return!0}},y=!d((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),g=y,m=Function.prototype,b=m.apply,w=m.call,x="object"==typeof Reflect&&Reflect.apply||(g?w.bind(b):function(){return w.apply(b,arguments)}),S=y,k=Function.prototype,E=k.bind,_=k.call,O=S&&E.bind(_,_),A=S?function(t){return t&&O(t)}:function(t){return t&&function(){return _.apply(t,arguments)}},P=function(t){return"function"==typeof t},j={},T=!d((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),M=y,L=Function.prototype.call,R=M?L.bind(L):function(){return L.apply(L,arguments)},C={},I={}.propertyIsEnumerable,U=Object.getOwnPropertyDescriptor,D=U&&!I.call({1:2},1);C.f=D?function(t){var e=U(this,t);return!!e&&e.enumerable}:I;var N,F,G=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V=A,z=V({}.toString),W=V("".slice),B=function(t){return W(z(t),8,-1)},Q=A,H=d,q=B,K=v.Object,Y=Q("".split),J=H((function(){return!K("z").propertyIsEnumerable(0)}))?function(t){return"String"==q(t)?Y(t,""):K(t)}:K,X=v.TypeError,Z=function(t){if(null==t)throw X("Can't call method on "+t);return t},$=J,tt=Z,et=function(t){return $(tt(t))},rt=P,nt=function(t){return"object"==typeof t?null!==t:rt(t)},ot={},it=ot,at=v,ut=P,ct=function(t){return ut(t)?t:void 0},st=function(t,e){return arguments.length<2?ct(it[t])||ct(at[t]):it[t]&&it[t][e]||at[t]&&at[t][e]},ft=A({}.isPrototypeOf),lt=st("navigator","userAgent")||"",pt=v,ht=lt,vt=pt.process,dt=pt.Deno,yt=vt&&vt.versions||dt&&dt.version,gt=yt&&yt.v8;gt&&(F=(N=gt.split("."))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!F&&ht&&(!(N=ht.match(/Edge\/(\d+)/))||N[1]>=74)&&(N=ht.match(/Chrome\/(\d+)/))&&(F=+N[1]);var mt=F,bt=mt,wt=d,xt=!!Object.getOwnPropertySymbols&&!wt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&bt&&bt<41})),St=xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,kt=st,Et=P,_t=ft,Ot=St,At=v.Object,Pt=Ot?function(t){return"symbol"==typeof t}:function(t){var e=kt("Symbol");return Et(e)&&_t(e.prototype,At(t))},jt=v.String,Tt=function(t){try{return jt(t)}catch(t){return"Object"}},Mt=P,Lt=Tt,Rt=v.TypeError,Ct=function(t){if(Mt(t))return t;throw Rt(Lt(t)+" is not a function")},It=Ct,Ut=function(t,e){var r=t[e];return null==r?void 0:It(r)},Dt=R,Nt=P,Ft=nt,Gt=v.TypeError,Vt={exports:{}},zt=v,Wt=Object.defineProperty,Bt=function(t,e){try{Wt(zt,t,{value:e,configurable:!0,writable:!0})}catch(r){zt[t]=e}return e},Qt="__core-js_shared__",Ht=v[Qt]||Bt(Qt,{}),qt=Ht;(Vt.exports=function(t,e){return qt[t]||(qt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.0",mode:"pure",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Kt=Z,Yt=v.Object,Jt=function(t){return Yt(Kt(t))},Xt=Jt,Zt=A({}.hasOwnProperty),$t=Object.hasOwn||function(t,e){return Zt(Xt(t),e)},te=A,ee=0,re=Math.random(),ne=te(1..toString),oe=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ne(++ee+re,36)},ie=v,ae=Vt.exports,ue=$t,ce=oe,se=xt,fe=St,le=ae("wks"),pe=ie.Symbol,he=pe&&pe.for,ve=fe?pe:pe&&pe.withoutSetter||ce,de=function(t){if(!ue(le,t)||!se&&"string"!=typeof le[t]){var e="Symbol."+t;se&&ue(pe,t)?le[t]=pe[t]:le[t]=fe&&he?he(e):ve(e)}return le[t]},ye=R,ge=nt,me=Pt,be=Ut,we=function(t,e){var r,n;if("string"===e&&Nt(r=t.toString)&&!Ft(n=Dt(r,t)))return n;if(Nt(r=t.valueOf)&&!Ft(n=Dt(r,t)))return n;if("string"!==e&&Nt(r=t.toString)&&!Ft(n=Dt(r,t)))return n;throw Gt("Can't convert object to primitive value")},xe=de,Se=v.TypeError,ke=xe("toPrimitive"),Ee=function(t,e){if(!ge(t)||me(t))return t;var r,n=be(t,ke);if(n){if(void 0===e&&(e="default"),r=ye(n,t,e),!ge(r)||me(r))return r;throw Se("Can't convert object to primitive value")}return void 0===e&&(e="number"),we(t,e)},_e=Pt,Oe=function(t){var e=Ee(t,"string");return _e(e)?e:e+""},Ae=nt,Pe=v.document,je=Ae(Pe)&&Ae(Pe.createElement),Te=function(t){return je?Pe.createElement(t):{}},Me=Te,Le=!T&&!d((function(){return 7!=Object.defineProperty(Me("div"),"a",{get:function(){return 7}}).a})),Re=T,Ce=R,Ie=C,Ue=G,De=et,Ne=Oe,Fe=$t,Ge=Le,Ve=Object.getOwnPropertyDescriptor;j.f=Re?Ve:function(t,e){if(t=De(t),e=Ne(e),Ge)try{return Ve(t,e)}catch(t){}if(Fe(t,e))return Ue(!Ce(Ie.f,t,e),t[e])};var ze=d,We=P,Be=/#|\.prototype\./,Qe=function(t,e){var r=qe[He(t)];return r==Ye||r!=Ke&&(We(e)?ze(e):!!e)},He=Qe.normalize=function(t){return String(t).replace(Be,".").toLowerCase()},qe=Qe.data={},Ke=Qe.NATIVE="N",Ye=Qe.POLYFILL="P",Je=Qe,Xe=Ct,Ze=y,$e=A(A.bind),tr=function(t,e){return Xe(t),void 0===e?t:Ze?$e(t,e):function(){return t.apply(e,arguments)}},er={},rr=T&&d((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),nr=v,or=nt,ir=nr.String,ar=nr.TypeError,ur=function(t){if(or(t))return t;throw ar(ir(t)+" is not an object")},cr=T,sr=Le,fr=rr,lr=ur,pr=Oe,hr=v.TypeError,vr=Object.defineProperty,dr=Object.getOwnPropertyDescriptor,yr="enumerable",gr="configurable",mr="writable";er.f=cr?fr?function(t,e,r){if(lr(t),e=pr(e),lr(r),"function"==typeof t&&"prototype"===e&&"value"in r&&mr in r&&!r.writable){var n=dr(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:gr in r?r.configurable:n.configurable,enumerable:yr in r?r.enumerable:n.enumerable,writable:!1})}return vr(t,e,r)}:vr:function(t,e,r){if(lr(t),e=pr(e),lr(r),sr)try{return vr(t,e,r)}catch(t){}if("get"in r||"set"in r)throw hr("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var br=er,wr=G,xr=T?function(t,e,r){return br.f(t,e,wr(1,r))}:function(t,e,r){return t[e]=r,t},Sr=v,kr=x,Er=A,_r=P,Or=j.f,Ar=Je,Pr=ot,jr=tr,Tr=xr,Mr=$t,Lr=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return kr(t,this,arguments)};return e.prototype=t.prototype,e},Rr=function(t,e){var r,n,o,i,a,u,c,s,f=t.target,l=t.global,p=t.stat,h=t.proto,v=l?Sr:p?Sr[f]:(Sr[f]||{}).prototype,d=l?Pr:Pr[f]||Tr(Pr,f,{})[f],y=d.prototype;for(o in e)r=!Ar(l?o:f+(p?".":"#")+o,t.forced)&&v&&Mr(v,o),a=d[o],r&&(u=t.noTargetGet?(s=Or(v,o))&&s.value:v[o]),i=r&&u?u:e[o],r&&typeof a==typeof i||(c=t.bind&&r?jr(i,Sr):t.wrap&&r?Lr(i):h&&_r(i)?Er(i):i,(t.sham||i&&i.sham||a&&a.sham)&&Tr(c,"sham",!0),Tr(d,o,c),h&&(Mr(Pr,n=f+"Prototype")||Tr(Pr,n,{}),Tr(Pr[n],o,i),t.real&&y&&!y[o]&&Tr(y,o,i)))},Cr=Vt.exports,Ir=oe,Ur=Cr("keys"),Dr=function(t){return Ur[t]||(Ur[t]=Ir(t))},Nr=!d((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Fr=v,Gr=$t,Vr=P,zr=Jt,Wr=Nr,Br=Dr("IE_PROTO"),Qr=Fr.Object,Hr=Qr.prototype,qr=Wr?Qr.getPrototypeOf:function(t){var e=zr(t);if(Gr(e,Br))return e[Br];var r=e.constructor;return Vr(r)&&e instanceof r?r.prototype:e instanceof Qr?Hr:null},Kr=v,Yr=P,Jr=Kr.String,Xr=Kr.TypeError,Zr=A,$r=ur,tn=function(t){if("object"==typeof t||Yr(t))return t;throw Xr("Can't set "+Jr(t)+" as a prototype")},en=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Zr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return $r(r),tn(n),e?t(r,n):r.__proto__=n,r}}():void 0),rn={},nn=Math.ceil,on=Math.floor,an=function(t){var e=+t;return e!=e||0===e?0:(e>0?on:nn)(e)},un=an,cn=Math.max,sn=Math.min,fn=function(t,e){var r=un(t);return r<0?cn(r+e,0):sn(r,e)},ln=an,pn=Math.min,hn=function(t){return t>0?pn(ln(t),9007199254740991):0},vn=hn,dn=function(t){return vn(t.length)},yn=et,gn=fn,mn=dn,bn=function(t){return function(e,r,n){var o,i=yn(e),a=mn(i),u=gn(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},wn={includes:bn(!0),indexOf:bn(!1)},xn={},Sn=$t,kn=et,En=wn.indexOf,_n=xn,On=A([].push),An=function(t,e){var r,n=kn(t),o=0,i=[];for(r in n)!Sn(_n,r)&&Sn(n,r)&&On(i,r);for(;e.length>o;)Sn(n,r=e[o++])&&(~En(i,r)||On(i,r));return i},Pn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jn=An,Tn=Pn.concat("length","prototype");rn.f=Object.getOwnPropertyNames||function(t){return jn(t,Tn)};var Mn={};Mn.f=Object.getOwnPropertySymbols;var Ln=st,Rn=rn,Cn=Mn,In=ur,Un=A([].concat),Dn=Ln("Reflect","ownKeys")||function(t){var e=Rn.f(In(t)),r=Cn.f;return r?Un(e,r(t)):e},Nn=$t,Fn=Dn,Gn=j,Vn=er,zn={},Wn=An,Bn=Pn,Qn=Object.keys||function(t){return Wn(t,Bn)},Hn=T,qn=rr,Kn=er,Yn=ur,Jn=et,Xn=Qn;zn.f=Hn&&!qn?Object.defineProperties:function(t,e){Yn(t);for(var r,n=Jn(e),o=Xn(e),i=o.length,a=0;i>a;)Kn.f(t,r=o[a++],n[r]);return t};var Zn,$n=st("document","documentElement"),to=ur,eo=zn,ro=Pn,no=xn,oo=$n,io=Te,ao=Dr("IE_PROTO"),uo=function(){},co=function(t){return"<script>"+t+"</"+"script>"},so=function(t){t.write(co("")),t.close();var e=t.parentWindow.Object;return t=null,e},fo=function(){try{Zn=new ActiveXObject("htmlfile")}catch(t){}var t,e;fo="undefined"!=typeof document?document.domain&&Zn?so(Zn):((e=io("iframe")).style.display="none",oo.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(co("document.F=Object")),t.close(),t.F):so(Zn);for(var r=ro.length;r--;)delete fo.prototype[ro[r]];return fo()};no[ao]=!0;var lo=Object.create||function(t,e){var r;return null!==t?(uo.prototype=to(t),r=new uo,uo.prototype=null,r[ao]=t):r=fo(),void 0===e?r:eo.f(r,e)},po=A("".replace),ho=String(Error("zxcasd").stack),vo=/\n\s*at [^:]*:[^\n]*/,yo=vo.test(ho),go=nt,mo=xr,bo={},wo=bo,xo=de("iterator"),So=Array.prototype,ko=function(t){return void 0!==t&&(wo.Array===t||So[xo]===t)},Eo={};Eo[de("toStringTag")]="z";var _o="[object z]"===String(Eo),Oo=v,Ao=_o,Po=P,jo=B,To=de("toStringTag"),Mo=Oo.Object,Lo="Arguments"==jo(function(){return arguments}()),Ro=Ao?jo:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Mo(t),To))?r:Lo?jo(e):"Object"==(n=jo(e))&&Po(e.callee)?"Arguments":n},Co=Ro,Io=Ut,Uo=bo,Do=de("iterator"),No=function(t){if(null!=t)return Io(t,Do)||Io(t,"@@iterator")||Uo[Co(t)]},Fo=R,Go=Ct,Vo=ur,zo=Tt,Wo=No,Bo=v.TypeError,Qo=function(t,e){var r=arguments.length<2?Wo(t):e;if(Go(r))return Vo(Fo(r,t));throw Bo(zo(t)+" is not iterable")},Ho=R,qo=ur,Ko=Ut,Yo=function(t,e,r){var n,o;qo(t);try{if(!(n=Ko(t,"return"))){if("throw"===e)throw r;return r}n=Ho(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return qo(n),r},Jo=tr,Xo=R,Zo=ur,$o=Tt,ti=ko,ei=dn,ri=ft,ni=Qo,oi=No,ii=Yo,ai=v.TypeError,ui=function(t,e){this.stopped=t,this.result=e},ci=ui.prototype,si=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),v=Jo(e,f),d=function(t){return n&&ii(n,"normal",t),new ui(!0,t)},y=function(t){return l?(Zo(t),h?v(t[0],t[1],d):v(t[0],t[1])):h?v(t,d):v(t)};if(p)n=t;else{if(!(o=oi(t)))throw ai($o(t)+" is not iterable");if(ti(o)){for(i=0,a=ei(t);a>i;i++)if((u=y(t[i]))&&ri(ci,u))return u;return new ui(!1)}n=ni(t,o)}for(c=n.next;!(s=Xo(c,n)).done;){try{u=y(s.value)}catch(t){ii(n,"throw",t)}if("object"==typeof u&&u&&ri(ci,u))return u}return new ui(!1)},fi=Ro,li=v.String,pi=function(t){if("Symbol"===fi(t))throw TypeError("Cannot convert a Symbol value to a string");return li(t)},hi=pi,vi=G,di=!d((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",vi(1,7)),7!==t.stack)})),yi=Rr,gi=v,mi=ft,bi=qr,wi=en,xi=function(t,e,r){for(var n=Fn(e),o=Vn.f,i=Gn.f,a=0;a<n.length;a++){var u=n[a];Nn(t,u)||r&&Nn(r,u)||o(t,u,i(e,u))}},Si=lo,ki=xr,Ei=G,_i=function(t,e){if(yo&&"string"==typeof t)for(;e--;)t=po(t,vo,"");return t},Oi=function(t,e){go(e)&&"cause"in e&&mo(t,"cause",e.cause)},Ai=si,Pi=function(t,e){return void 0===t?arguments.length<2?"":e:hi(t)},ji=di,Ti=de("toStringTag"),Mi=gi.Error,Li=[].push,Ri=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,o=mi(Ci,this);wi?r=wi(new Mi,o?bi(this):Ci):(r=o?this:Si(Ci),ki(r,Ti,"Error")),void 0!==e&&ki(r,"message",Pi(e)),ji&&ki(r,"stack",_i(r.stack,1)),Oi(r,n);var i=[];return Ai(t,Li,{that:i}),ki(r,"errors",i),r};wi?wi(Ri,Mi):xi(Ri,Mi,{name:!0});var Ci=Ri.prototype=Si(Mi.prototype,{constructor:Ei(1,Ri),message:Ei(1,""),name:Ei(1,"AggregateError")});yi({global:!0},{AggregateError:Ri});var Ii=P,Ui=Ht,Di=A(Function.toString);Ii(Ui.inspectSource)||(Ui.inspectSource=function(t){return Di(t)});var Ni,Fi,Gi,Vi=Ui.inspectSource,zi=P,Wi=Vi,Bi=v.WeakMap,Qi=zi(Bi)&&/native code/.test(Wi(Bi)),Hi=v,qi=A,Ki=nt,Yi=xr,Ji=$t,Xi=Ht,Zi=Dr,$i=xn,ta="Object already initialized",ea=Hi.TypeError,ra=Hi.WeakMap;if(Qi||Xi.state){var na=Xi.state||(Xi.state=new ra),oa=qi(na.get),ia=qi(na.has),aa=qi(na.set);Ni=function(t,e){if(ia(na,t))throw new ea(ta);return e.facade=t,aa(na,t,e),e},Fi=function(t){return oa(na,t)||{}},Gi=function(t){return ia(na,t)}}else{var ua=Zi("state");$i[ua]=!0,Ni=function(t,e){if(Ji(t,ua))throw new ea(ta);return e.facade=t,Yi(t,ua,e),e},Fi=function(t){return Ji(t,ua)?t[ua]:{}},Gi=function(t){return Ji(t,ua)}}var ca,sa,fa,la={set:Ni,get:Fi,has:Gi,enforce:function(t){return Gi(t)?Fi(t):Ni(t,{})},getterFor:function(t){return function(e){var r;if(!Ki(e)||(r=Fi(e)).type!==t)throw ea("Incompatible receiver, "+t+" required");return r}}},pa=T,ha=$t,va=Function.prototype,da=pa&&Object.getOwnPropertyDescriptor,ya=ha(va,"name"),ga={EXISTS:ya,PROPER:ya&&"something"===function(){}.name,CONFIGURABLE:ya&&(!pa||pa&&da(va,"name").configurable)},ma=xr,ba=function(t,e,r,n){n&&n.enumerable?t[e]=r:ma(t,e,r)},wa=d,xa=P,Sa=lo,ka=qr,Ea=ba,_a=de("iterator"),Oa=!1;[].keys&&("next"in(fa=[].keys())?(sa=ka(ka(fa)))!==Object.prototype&&(ca=sa):Oa=!0);var Aa=null==ca||wa((function(){var t={};return ca[_a].call(t)!==t}));xa((ca=Aa?{}:Sa(ca))[_a])||Ea(ca,_a,(function(){return this}));var Pa={IteratorPrototype:ca,BUGGY_SAFARI_ITERATORS:Oa},ja=Ro,Ta=_o?{}.toString:function(){return"[object "+ja(this)+"]"},Ma=_o,La=er.f,Ra=xr,Ca=$t,Ia=Ta,Ua=de("toStringTag"),Da=function(t,e,r,n){if(t){var o=r?t:t.prototype;Ca(o,Ua)||La(o,Ua,{configurable:!0,value:e}),n&&!Ma&&Ra(o,"toString",Ia)}},Na=Pa.IteratorPrototype,Fa=lo,Ga=G,Va=Da,za=bo,Wa=function(){return this},Ba=Rr,Qa=R,Ha=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Fa(Na,{next:Ga(+!n,r)}),Va(t,o,!1,!0),za[o]=Wa,t},qa=qr,Ka=Da,Ya=ba,Ja=bo,Xa=ga.PROPER,Za=Pa.BUGGY_SAFARI_ITERATORS,$a=de("iterator"),tu="keys",eu="values",ru="entries",nu=function(){return this},ou=function(t,e,r,n,o,i,a){Ha(r,e,n);var u,c,s,f=function(t){if(t===o&&d)return d;if(!Za&&t in h)return h[t];switch(t){case tu:case eu:case ru:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",p=!1,h=t.prototype,v=h[$a]||h["@@iterator"]||o&&h[o],d=!Za&&v||f(o),y="Array"==e&&h.entries||v;if(y&&(u=qa(y.call(new t)))!==Object.prototype&&u.next&&(Ka(u,l,!0,!0),Ja[l]=nu),Xa&&o==eu&&v&&v.name!==eu&&(p=!0,d=function(){return Qa(v,this)}),o)if(c={values:f(eu),keys:i?d:f(tu),entries:f(ru)},a)for(s in c)(Za||p||!(s in h))&&Ya(h,s,c[s]);else Ba({target:e,proto:!0,forced:Za||p},c);return a&&h[$a]!==d&&Ya(h,$a,d,{name:o}),Ja[e]=d,c},iu=et,au=bo,uu=la;er.f;var cu=ou,su="Array Iterator",fu=uu.set,lu=uu.getterFor(su);cu(Array,"Array",(function(t,e){fu(this,{type:su,target:iu(t),index:0,kind:e})}),(function(){var t=lu(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),au.Arguments=au.Array;var pu=v.Promise,hu=ba,vu=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:hu(t,n,e[n],r);return t},du=st,yu=er,gu=T,mu=de("species"),bu=function(t){var e=du(t),r=yu.f;gu&&e&&!e[mu]&&r(e,mu,{configurable:!0,get:function(){return this}})},wu=ft,xu=v.TypeError,Su=function(t,e){if(wu(e,t))return t;throw xu("Incorrect invocation")},ku=de("iterator"),Eu=!1;try{var _u=0,Ou={next:function(){return{done:!!_u++}},return:function(){Eu=!0}};Ou[ku]=function(){return this},Array.from(Ou,(function(){throw 2}))}catch(t){}var Au=function(t,e){if(!e&&!Eu)return!1;var r=!1;try{var n={};n[ku]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Pu=A,ju=d,Tu=P,Mu=Ro,Lu=Vi,Ru=function(){},Cu=[],Iu=st("Reflect","construct"),Uu=/^\s*(?:class|function)\b/,Du=Pu(Uu.exec),Nu=!Uu.exec(Ru),Fu=function(t){if(!Tu(t))return!1;try{return Iu(Ru,Cu,t),!0}catch(t){return!1}},Gu=function(t){if(!Tu(t))return!1;switch(Mu(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Nu||!!Du(Uu,Lu(t))}catch(t){return!0}};Gu.sham=!0;var Vu,zu,Wu,Bu,Qu=!Iu||ju((function(){var t;return Fu(Fu.call)||!Fu(Object)||!Fu((function(){t=!0}))||t}))?Gu:Fu,Hu=Qu,qu=Tt,Ku=v.TypeError,Yu=ur,Ju=function(t){if(Hu(t))return t;throw Ku(qu(t)+" is not a constructor")},Xu=de("species"),Zu=function(t,e){var r,n=Yu(t).constructor;return void 0===n||null==(r=Yu(n)[Xu])?e:Ju(r)},$u=A([].slice),tc=v.TypeError,ec=function(t,e){if(t<e)throw tc("Not enough arguments");return t},rc=/(?:ipad|iphone|ipod).*applewebkit/i.test(lt),nc="process"==B(v.process),oc=v,ic=x,ac=tr,uc=P,cc=$t,sc=d,fc=$n,lc=$u,pc=Te,hc=ec,vc=rc,dc=nc,yc=oc.setImmediate,gc=oc.clearImmediate,mc=oc.process,bc=oc.Dispatch,wc=oc.Function,xc=oc.MessageChannel,Sc=oc.String,kc=0,Ec={},_c="onreadystatechange";try{Vu=oc.location}catch(t){}var Oc=function(t){if(cc(Ec,t)){var e=Ec[t];delete Ec[t],e()}},Ac=function(t){return function(){Oc(t)}},Pc=function(t){Oc(t.data)},jc=function(t){oc.postMessage(Sc(t),Vu.protocol+"//"+Vu.host)};yc&&gc||(yc=function(t){hc(arguments.length,1);var e=uc(t)?t:wc(t),r=lc(arguments,1);return Ec[++kc]=function(){ic(e,void 0,r)},zu(kc),kc},gc=function(t){delete Ec[t]},dc?zu=function(t){mc.nextTick(Ac(t))}:bc&&bc.now?zu=function(t){bc.now(Ac(t))}:xc&&!vc?(Bu=(Wu=new xc).port2,Wu.port1.onmessage=Pc,zu=ac(Bu.postMessage,Bu)):oc.addEventListener&&uc(oc.postMessage)&&!oc.importScripts&&Vu&&"file:"!==Vu.protocol&&!sc(jc)?(zu=jc,oc.addEventListener("message",Pc,!1)):zu=_c in pc("script")?function(t){fc.appendChild(pc("script")).onreadystatechange=function(){fc.removeChild(this),Oc(t)}}:function(t){setTimeout(Ac(t),0)});var Tc,Mc,Lc,Rc,Cc,Ic,Uc,Dc,Nc={set:yc,clear:gc},Fc=v,Gc=/ipad|iphone|ipod/i.test(lt)&&void 0!==Fc.Pebble,Vc=/web0s(?!.*chrome)/i.test(lt),zc=v,Wc=tr,Bc=j.f,Qc=Nc.set,Hc=rc,qc=Gc,Kc=Vc,Yc=nc,Jc=zc.MutationObserver||zc.WebKitMutationObserver,Xc=zc.document,Zc=zc.process,$c=zc.Promise,ts=Bc(zc,"queueMicrotask"),es=ts&&ts.value;es||(Tc=function(){var t,e;for(Yc&&(t=Zc.domain)&&t.exit();Mc;){e=Mc.fn,Mc=Mc.next;try{e()}catch(t){throw Mc?Rc():Lc=void 0,t}}Lc=void 0,t&&t.enter()},Hc||Yc||Kc||!Jc||!Xc?!qc&&$c&&$c.resolve?((Uc=$c.resolve(void 0)).constructor=$c,Dc=Wc(Uc.then,Uc),Rc=function(){Dc(Tc)}):Yc?Rc=function(){Zc.nextTick(Tc)}:(Qc=Wc(Qc,zc),Rc=function(){Qc(Tc)}):(Cc=!0,Ic=Xc.createTextNode(""),new Jc(Tc).observe(Ic,{characterData:!0}),Rc=function(){Ic.data=Cc=!Cc}));var rs=es||function(t){var e={fn:t,next:void 0};Lc&&(Lc.next=e),Mc||(Mc=e,Rc()),Lc=e},ns={},os=Ct,is=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=os(e),this.reject=os(r)};ns.f=function(t){return new is(t)};var as=ur,us=nt,cs=ns,ss=function(t,e){if(as(t),us(e)&&e.constructor===t)return e;var r=cs.f(t);return(0,r.resolve)(e),r.promise},fs=v,ls=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ps=function(){this.head=null,this.tail=null};ps.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var hs,vs,ds,ys="object"==typeof window,gs=Rr,ms=v,bs=st,ws=R,xs=pu,Ss=vu,ks=Da,Es=bu,_s=Ct,Os=P,As=nt,Ps=Su,js=Vi,Ts=si,Ms=Au,Ls=Zu,Rs=Nc.set,Cs=rs,Is=ss,Us=function(t,e){var r=fs.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))},Ds=ns,Ns=ls,Fs=ps,Gs=la,Vs=Je,zs=ys,Ws=nc,Bs=mt,Qs=de("species"),Hs="Promise",qs=Gs.getterFor(Hs),Ks=Gs.set,Ys=Gs.getterFor(Hs),Js=xs&&xs.prototype,Xs=xs,Zs=Js,$s=ms.TypeError,tf=ms.document,ef=ms.process,rf=Ds.f,nf=rf,of=!!(tf&&tf.createEvent&&ms.dispatchEvent),af=Os(ms.PromiseRejectionEvent),uf="unhandledrejection",cf=Vs(Hs,(function(){var t=js(Xs),e=t!==String(Xs);if(!e&&66===Bs)return!0;if(!Zs.finally)return!0;if(Bs>=51&&/native code/.test(t))return!1;var r=new Xs((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[Qs]=n,!(r.then((function(){}))instanceof n)||!e&&zs&&!af})),sf=cf||!Ms((function(t){Xs.all(t).catch((function(){}))})),ff=function(t){var e;return!(!As(t)||!Os(e=t.then))&&e},lf=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&yf(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s($s("Promise-chain cycle")):(n=ff(r))?ws(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},pf=function(t,e){t.notified||(t.notified=!0,Cs((function(){for(var r,n=t.reactions;r=n.get();)lf(r,t);t.notified=!1,e&&!t.rejection&&vf(t)})))},hf=function(t,e,r){var n,o;of?((n=tf.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),ms.dispatchEvent(n)):n={promise:e,reason:r},!af&&(o=ms["on"+t])?o(n):t===uf&&Us("Unhandled promise rejection",r)},vf=function(t){ws(Rs,ms,(function(){var e,r=t.facade,n=t.value;if(df(t)&&(e=Ns((function(){Ws?ef.emit("unhandledRejection",n,r):hf(uf,r,n)})),t.rejection=Ws||df(t)?2:1,e.error))throw e.value}))},df=function(t){return 1!==t.rejection&&!t.parent},yf=function(t){ws(Rs,ms,(function(){var e=t.facade;Ws?ef.emit("rejectionHandled",e):hf("rejectionhandled",e,t.value)}))},gf=function(t,e,r){return function(n){t(e,n,r)}},mf=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,pf(t,!0))},bf=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw $s("Promise can't be resolved itself");var n=ff(e);n?Cs((function(){var r={done:!1};try{ws(n,e,gf(bf,r,t),gf(mf,r,t))}catch(e){mf(r,e,t)}})):(t.value=e,t.state=1,pf(t,!1))}catch(e){mf({done:!1},e,t)}}};cf&&(Zs=(Xs=function(t){Ps(this,Zs),_s(t),ws(hs,this);var e=qs(this);try{t(gf(bf,e),gf(mf,e))}catch(t){mf(e,t)}}).prototype,(hs=function(t){Ks(this,{type:Hs,done:!1,notified:!1,parent:!1,reactions:new Fs,rejection:!1,state:0,value:void 0})}).prototype=Ss(Zs,{then:function(t,e){var r=Ys(this),n=rf(Ls(this,Xs));return r.parent=!0,n.ok=!Os(t)||t,n.fail=Os(e)&&e,n.domain=Ws?ef.domain:void 0,0==r.state?r.reactions.add(n):Cs((function(){lf(n,r)})),n.promise},catch:function(t){return this.then(void 0,t)}}),vs=function(){var t=new hs,e=qs(t);this.promise=t,this.resolve=gf(bf,e),this.reject=gf(mf,e)},Ds.f=rf=function(t){return t===Xs||t===ds?new vs(t):nf(t)}),gs({global:!0,wrap:!0,forced:cf},{Promise:Xs}),ks(Xs,Hs,!1,!0),Es(Hs),ds=bs(Hs),gs({target:Hs,stat:!0,forced:cf},{reject:function(t){var e=rf(this);return ws(e.reject,void 0,t),e.promise}}),gs({target:Hs,stat:!0,forced:true},{resolve:function(t){return Is(this===ds?Xs:this,t)}}),gs({target:Hs,stat:!0,forced:sf},{all:function(t){var e=this,r=rf(e),n=r.resolve,o=r.reject,i=Ns((function(){var r=_s(e.resolve),i=[],a=0,u=1;Ts(t,(function(t){var c=a++,s=!1;u++,ws(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=rf(e),n=r.reject,o=Ns((function(){var o=_s(e.resolve);Ts(t,(function(t){ws(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var wf=R,xf=Ct,Sf=ns,kf=ls,Ef=si;Rr({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=Sf.f(e),n=r.resolve,o=r.reject,i=kf((function(){var r=xf(e.resolve),o=[],i=0,a=1;Ef(t,(function(t){var u=i++,c=!1;a++,wf(r,e,t).then((function(t){c||(c=!0,o[u]={status:"fulfilled",value:t},--a||n(o))}),(function(t){c||(c=!0,o[u]={status:"rejected",reason:t},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var _f=Ct,Of=st,Af=R,Pf=ns,jf=ls,Tf=si,Mf="No one promise resolved";Rr({target:"Promise",stat:!0},{any:function(t){var e=this,r=Of("AggregateError"),n=Pf.f(e),o=n.resolve,i=n.reject,a=jf((function(){var n=_f(e.resolve),a=[],u=0,c=1,s=!1;Tf(t,(function(t){var f=u++,l=!1;c++,Af(n,e,t).then((function(t){l||s||(s=!0,o(t))}),(function(t){l||s||(l=!0,a[f]=t,--c||i(new r(a,Mf)))}))})),--c||i(new r(a,Mf))}));return a.error&&i(a.value),n.promise}});var Lf=pu,Rf=st,Cf=P,If=Zu,Uf=ss;Rr({target:"Promise",proto:!0,real:!0,forced:!!Lf&&d((function(){Lf.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=If(this,Rf("Promise")),r=Cf(t);return this.then(r?function(r){return Uf(e,t()).then((function(){return r}))}:t,r?function(r){return Uf(e,t()).then((function(){throw r}))}:t)}});var Df=A,Nf=an,Ff=pi,Gf=Z,Vf=Df("".charAt),zf=Df("".charCodeAt),Wf=Df("".slice),Bf=function(t){return function(e,r){var n,o,i=Ff(Gf(e)),a=Nf(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=zf(i,a))<55296||n>56319||a+1===u||(o=zf(i,a+1))<56320||o>57343?t?Vf(i,a):n:t?Wf(i,a,a+2):o-56320+(n-55296<<10)+65536}},Qf={codeAt:Bf(!1),charAt:Bf(!0)}.charAt,Hf=pi,qf=la,Kf=ou,Yf="String Iterator",Jf=qf.set,Xf=qf.getterFor(Yf);Kf(String,"String",(function(t){Jf(this,{type:Yf,string:Hf(t),index:0})}),(function(){var t,e=Xf(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Qf(r,n),e.index+=t.length,{value:t,done:!1})}));var Zf=ot.Promise,$f={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},tl=v,el=Ro,rl=xr,nl=bo,ol=de("toStringTag");for(var il in $f){var al=tl[il],ul=al&&al.prototype;ul&&el(ul)!==ol&&rl(ul,ol,il),nl[il]=nl.Array}var cl=Zf;!function(t){t.exports=cl}(p);var sl=l(p.exports),fl={exports:{}},ll={exports:{}},pl={exports:{}},hl=B,vl=Array.isArray||function(t){return"Array"==hl(t)},dl=Oe,yl=er,gl=G,ml=function(t,e,r){var n=dl(e);n in t?yl.f(t,n,gl(0,r)):t[n]=r},bl=v,wl=vl,xl=Qu,Sl=nt,kl=de("species"),El=bl.Array,_l=function(t){var e;return wl(t)&&(e=t.constructor,(xl(e)&&(e===El||wl(e.prototype))||Sl(e)&&null===(e=e[kl]))&&(e=void 0)),void 0===e?El:e},Ol=function(t,e){return new(_l(t))(0===e?0:e)},Al=d,Pl=mt,jl=de("species"),Tl=function(t){return Pl>=51||!Al((function(){var e=[];return(e.constructor={})[jl]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ml=Rr,Ll=v,Rl=d,Cl=vl,Il=nt,Ul=Jt,Dl=dn,Nl=ml,Fl=Ol,Gl=Tl,Vl=mt,zl=de("isConcatSpreadable"),Wl=9007199254740991,Bl="Maximum allowed index exceeded",Ql=Ll.TypeError,Hl=Vl>=51||!Rl((function(){var t=[];return t[zl]=!1,t.concat()[0]!==t})),ql=Gl("concat"),Kl=function(t){if(!Il(t))return!1;var e=t[zl];return void 0!==e?!!e:Cl(t)};Ml({target:"Array",proto:!0,forced:!Hl||!ql},{concat:function(t){var e,r,n,o,i,a=Ul(this),u=Fl(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Kl(i=-1===e?a:arguments[e])){if(c+(o=Dl(i))>Wl)throw Ql(Bl);for(r=0;r<o;r++,c++)r in i&&Nl(u,c,i[r])}else{if(c>=Wl)throw Ql(Bl);Nl(u,c++,i)}return u.length=c,u}});var Yl={},Jl=fn,Xl=dn,Zl=ml,$l=v.Array,tp=Math.max,ep=B,rp=et,np=rn.f,op=function(t,e,r){for(var n=Xl(t),o=Jl(e,n),i=Jl(void 0===r?n:r,n),a=$l(tp(i-o,0)),u=0;o<i;o++,u++)Zl(a,u,t[o]);return a.length=u,a},ip="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Yl.f=function(t){return ip&&"Window"==ep(t)?function(t){try{return np(t)}catch(t){return op(ip)}}(t):np(rp(t))};var ap={},up=de;ap.f=up;var cp=ot,sp=$t,fp=ap,lp=er.f,pp=function(t){var e=cp.Symbol||(cp.Symbol={});sp(e,t)||lp(e,t,{value:fp.f(t)})},hp=tr,vp=J,dp=Jt,yp=dn,gp=Ol,mp=A([].push),bp=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,h,v=dp(c),d=vp(v),y=hp(s,f),g=yp(d),m=0,b=l||gp,w=e?b(c,g):r||a?b(c,0):void 0;g>m;m++)if((u||m in d)&&(h=y(p=d[m],m,v),t))if(e)w[m]=h;else if(h)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:mp(w,p)}else switch(t){case 4:return!1;case 7:mp(w,p)}return i?-1:n||o?o:w}},wp={forEach:bp(0),map:bp(1),filter:bp(2),some:bp(3),every:bp(4),find:bp(5),findIndex:bp(6),filterReject:bp(7)},xp=Rr,Sp=v,kp=st,Ep=x,_p=R,Op=A,Ap=T,Pp=xt,jp=d,Tp=$t,Mp=vl,Lp=P,Rp=nt,Cp=ft,Ip=Pt,Up=ur,Dp=Jt,Np=et,Fp=Oe,Gp=pi,Vp=G,zp=lo,Wp=Qn,Bp=rn,Qp=Yl,Hp=Mn,qp=j,Kp=er,Yp=zn,Jp=C,Xp=$u,Zp=ba,$p=Vt.exports,th=xn,eh=oe,rh=de,nh=ap,oh=pp,ih=Da,ah=la,uh=wp.forEach,ch=Dr("hidden"),sh="Symbol",fh=rh("toPrimitive"),lh=ah.set,ph=ah.getterFor(sh),hh=Object.prototype,vh=Sp.Symbol,dh=vh&&vh.prototype,yh=Sp.TypeError,gh=Sp.QObject,mh=kp("JSON","stringify"),bh=qp.f,wh=Kp.f,xh=Qp.f,Sh=Jp.f,kh=Op([].push),Eh=$p("symbols"),_h=$p("op-symbols"),Oh=$p("string-to-symbol-registry"),Ah=$p("symbol-to-string-registry"),Ph=$p("wks"),jh=!gh||!gh.prototype||!gh.prototype.findChild,Th=Ap&&jp((function(){return 7!=zp(wh({},"a",{get:function(){return wh(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=bh(hh,e);n&&delete hh[e],wh(t,e,r),n&&t!==hh&&wh(hh,e,n)}:wh,Mh=function(t,e){var r=Eh[t]=zp(dh);return lh(r,{type:sh,tag:t,description:e}),Ap||(r.description=e),r},Lh=function(t,e,r){t===hh&&Lh(_h,e,r),Up(t);var n=Fp(e);return Up(r),Tp(Eh,n)?(r.enumerable?(Tp(t,ch)&&t[ch][n]&&(t[ch][n]=!1),r=zp(r,{enumerable:Vp(0,!1)})):(Tp(t,ch)||wh(t,ch,Vp(1,{})),t[ch][n]=!0),Th(t,n,r)):wh(t,n,r)},Rh=function(t,e){Up(t);var r=Np(e),n=Wp(r).concat(Dh(r));return uh(n,(function(e){Ap&&!_p(Ch,r,e)||Lh(t,e,r[e])})),t},Ch=function(t){var e=Fp(t),r=_p(Sh,this,e);return!(this===hh&&Tp(Eh,e)&&!Tp(_h,e))&&(!(r||!Tp(this,e)||!Tp(Eh,e)||Tp(this,ch)&&this[ch][e])||r)},Ih=function(t,e){var r=Np(t),n=Fp(e);if(r!==hh||!Tp(Eh,n)||Tp(_h,n)){var o=bh(r,n);return!o||!Tp(Eh,n)||Tp(r,ch)&&r[ch][n]||(o.enumerable=!0),o}},Uh=function(t){var e=xh(Np(t)),r=[];return uh(e,(function(t){Tp(Eh,t)||Tp(th,t)||kh(r,t)})),r},Dh=function(t){var e=t===hh,r=xh(e?_h:Np(t)),n=[];return uh(r,(function(t){!Tp(Eh,t)||e&&!Tp(hh,t)||kh(n,Eh[t])})),n};if(Pp||(vh=function(){if(Cp(dh,this))throw yh("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Gp(arguments[0]):void 0,e=eh(t),r=function(t){this===hh&&_p(r,_h,t),Tp(this,ch)&&Tp(this[ch],e)&&(this[ch][e]=!1),Th(this,e,Vp(1,t))};return Ap&&jh&&Th(hh,e,{configurable:!0,set:r}),Mh(e,t)},Zp(dh=vh.prototype,"toString",(function(){return ph(this).tag})),Zp(vh,"withoutSetter",(function(t){return Mh(eh(t),t)})),Jp.f=Ch,Kp.f=Lh,Yp.f=Rh,qp.f=Ih,Bp.f=Qp.f=Uh,Hp.f=Dh,nh.f=function(t){return Mh(rh(t),t)},Ap&&wh(dh,"description",{configurable:!0,get:function(){return ph(this).description}})),xp({global:!0,wrap:!0,forced:!Pp,sham:!Pp},{Symbol:vh}),uh(Wp(Ph),(function(t){oh(t)})),xp({target:sh,stat:!0,forced:!Pp},{for:function(t){var e=Gp(t);if(Tp(Oh,e))return Oh[e];var r=vh(e);return Oh[e]=r,Ah[r]=e,r},keyFor:function(t){if(!Ip(t))throw yh(t+" is not a symbol");if(Tp(Ah,t))return Ah[t]},useSetter:function(){jh=!0},useSimple:function(){jh=!1}}),xp({target:"Object",stat:!0,forced:!Pp,sham:!Ap},{create:function(t,e){return void 0===e?zp(t):Rh(zp(t),e)},defineProperty:Lh,defineProperties:Rh,getOwnPropertyDescriptor:Ih}),xp({target:"Object",stat:!0,forced:!Pp},{getOwnPropertyNames:Uh,getOwnPropertySymbols:Dh}),xp({target:"Object",stat:!0,forced:jp((function(){Hp.f(1)}))},{getOwnPropertySymbols:function(t){return Hp.f(Dp(t))}}),mh){var Nh=!Pp||jp((function(){var t=vh();return"[null]"!=mh([t])||"{}"!=mh({a:t})||"{}"!=mh(Object(t))}));xp({target:"JSON",stat:!0,forced:Nh},{stringify:function(t,e,r){var n=Xp(arguments),o=e;if((Rp(e)||void 0!==t)&&!Ip(t))return Mp(e)||(e=function(t,e){if(Lp(o)&&(e=_p(o,this,t,e)),!Ip(e))return e}),n[1]=e,Ep(mh,null,n)}})}if(!dh[fh]){var Fh=dh.valueOf;Zp(dh,fh,(function(t){return _p(Fh,this)}))}ih(vh,sh),th[ch]=!0,pp("asyncIterator"),pp("hasInstance"),pp("isConcatSpreadable"),pp("iterator"),pp("match"),pp("matchAll"),pp("replace"),pp("search"),pp("species"),pp("split"),pp("toPrimitive"),pp("toStringTag"),pp("unscopables"),Da(v.JSON,"JSON",!0);var Gh=ot.Symbol;pp("asyncDispose"),pp("dispose"),pp("matcher"),pp("metadata"),pp("observable"),pp("patternMatch"),pp("replaceAll");var Vh=Gh;!function(t){t.exports=Vh}(pl);var zh={exports:{}},Wh=ap.f("iterator");!function(t){t.exports=Wh}(zh),function(t){var e=pl.exports,r=zh.exports;function n(o){return t.exports=n="function"==typeof e&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(ll);var Bh={exports:{}},Qh={exports:{}},Hh=Rr,qh=T,Kh=er.f;Hh({target:"Object",stat:!0,forced:Object.defineProperty!==Kh,sham:!qh},{defineProperty:Kh});var Yh=ot.Object,Jh=Qh.exports=function(t,e,r){return Yh.defineProperty(t,e,r)};Yh.defineProperty.sham&&(Jh.sham=!0);var Xh=Qh.exports;!function(t){t.exports=Xh}(Bh);var Zh={exports:{}};Rr({target:"Object",stat:!0,sham:!T},{create:lo});var $h=ot.Object,tv=function(t,e){return $h.create(t,e)};!function(t){t.exports=tv}(Zh);var ev={exports:{}},rv=Jt,nv=qr,ov=Nr;Rr({target:"Object",stat:!0,forced:d((function(){nv(1)})),sham:!ov},{getPrototypeOf:function(t){return nv(rv(t))}});var iv=ot.Object.getPrototypeOf;!function(t){t.exports=iv}(ev);var av={exports:{}},uv=d,cv=function(t,e){var r=[][t];return!!r&&uv((function(){r.call(null,e||function(){throw 1},1)}))},sv=wp.forEach,fv=cv("forEach")?[].forEach:function(t){return sv(this,t,arguments.length>1?arguments[1]:void 0)};Rr({target:"Array",proto:!0,forced:[].forEach!=fv},{forEach:fv});var lv=ot,pv=function(t){return lv[t+"Prototype"]},hv=pv("Array").forEach,vv=Ro,dv=$t,yv=ft,gv=hv,mv=Array.prototype,bv={DOMTokenList:!0,NodeList:!0},wv=function(t){var e=t.forEach;return t===mv||yv(mv,t)&&e===mv.forEach||dv(bv,vv(t))?gv:e},xv=wv;!function(t){t.exports=xv}(av);var Sv={exports:{}};Rr({target:"Object",stat:!0},{setPrototypeOf:en});var kv=ot.Object.setPrototypeOf;!function(t){t.exports=kv}(Sv);var Ev={exports:{}},_v=cl,Ov=ns,Av=ls;Rr({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=Ov.f(this),r=Av(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var Pv=_v;!function(t){t.exports=Pv}(Ev);var jv={exports:{}},Tv=Rr,Mv=vl,Lv=A([].reverse),Rv=[1,2];Tv({target:"Array",proto:!0,forced:String(Rv)===String(Rv.reverse())},{reverse:function(){return Mv(this)&&(this.length=this.length),Lv(this)}});var Cv=pv("Array").reverse,Iv=ft,Uv=Cv,Dv=Array.prototype,Nv=function(t){var e=t.reverse;return t===Dv||Iv(Dv,t)&&e===Dv.reverse?Uv:e};!function(t){t.exports=Nv}(jv);var Fv={exports:{}},Gv=Rr,Vv=v,zv=vl,Wv=Qu,Bv=nt,Qv=fn,Hv=dn,qv=et,Kv=ml,Yv=de,Jv=$u,Xv=Tl("slice"),Zv=Yv("species"),$v=Vv.Array,td=Math.max;Gv({target:"Array",proto:!0,forced:!Xv},{slice:function(t,e){var r,n,o,i=qv(this),a=Hv(i),u=Qv(t,a),c=Qv(void 0===e?a:e,a);if(zv(i)&&(r=i.constructor,(Wv(r)&&(r===$v||zv(r.prototype))||Bv(r)&&null===(r=r[Zv]))&&(r=void 0),r===$v||void 0===r))return Jv(i,u,c);for(n=new(void 0===r?$v:r)(td(c-u,0)),o=0;u<c;u++,o++)u in i&&Kv(n,o,i[u]);return n.length=o,n}});var ed=pv("Array").slice,rd=ft,nd=ed,od=Array.prototype,id=function(t){var e=t.slice;return t===od||rd(od,t)&&e===od.slice?nd:e},ad=id;!function(t){t.exports=ad}(Fv),function(t){var e=ll.exports.default,r=pl.exports,n=Bh.exports,o=Zh.exports,i=ev.exports,a=av.exports,u=Sv.exports,c=Ev.exports,s=jv.exports,f=Fv.exports;function l(){t.exports=l=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var p={},h=Object.prototype,v=h.hasOwnProperty,d="function"==typeof r?r:{},y=d.iterator||"@@iterator",g=d.asyncIterator||"@@asyncIterator",m=d.toStringTag||"@@toStringTag";function b(t,e,r){return n(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(t){b=function(t,e,r){return t[e]=r}}function w(t,e,r,n){var i=e&&e.prototype instanceof k?e:k,a=o(i.prototype),u=new C(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return U()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=M(a,r);if(u){if(u===S)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=x(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===S)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,u),a}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}p.wrap=w;var S={};function k(){}function E(){}function _(){}var O={};b(O,y,(function(){return this}));var A=i&&i(i(I([])));A&&A!==h&&v.call(A,y)&&(O=A);var P=_.prototype=k.prototype=o(O);function j(t){var e;a(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,r){function n(o,i,a,u){var c=x(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==e(f)&&v.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):r.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function M(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,M(t,e),"throw"===e.method))return S;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var n=x(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,S;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,S):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,S)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],a(t).call(t,L,this),this.reset(!0)}function I(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(v.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:U}}function U(){return{value:void 0,done:!0}}return E.prototype=_,b(P,"constructor",_),b(_,"constructor",E),E.displayName=b(_,m,"GeneratorFunction"),p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return u?u(t,_):(t.__proto__=_,b(t,m,"GeneratorFunction")),t.prototype=o(P),t},p.awrap=function(t){return{__await:t}},j(T.prototype),b(T.prototype,g,(function(){return this})),p.AsyncIterator=T,p.async=function(t,e,r,n,o){void 0===o&&(o=c);var i=new T(w(t,e,r,n),o);return p.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(P),b(P,m,"Generator"),b(P,y,(function(){return this})),b(P,"toString",(function(){return"[object Generator]"})),p.keys=function(t){var e=[];for(var r in t)e.push(r);return s(e).call(e),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=I,C.prototype={constructor:C,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,a(e=this.tryEntries).call(e,R),!t)for(var r in this)"t"===r.charAt(0)&&v.call(this,r)&&!isNaN(+f(r).call(r,1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=v.call(o,"catchLoc"),u=v.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),S}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}(fl);var ud=fl.exports(),cd=ud;try{regeneratorRuntime=ud}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=ud:Function("r","regeneratorRuntime = r")(ud)}var sd={exports:{}},fd=wp.filter;Rr({target:"Array",proto:!0,forced:!Tl("filter")},{filter:function(t){return fd(this,t,arguments.length>1?arguments[1]:void 0)}});var ld=pv("Array").filter,pd=ft,hd=ld,vd=Array.prototype,dd=function(t){var e=t.filter;return t===vd||pd(vd,t)&&e===vd.filter?hd:e};!function(t){t.exports=dd}(sd);var yd=l(sd.exports),gd={exports:{}};!function(t){t.exports=wv}(gd);var md=l(gd.exports),bd={exports:{}},wd=Rr,xd=wp.find,Sd="find",kd=!0;Sd in[]&&Array(1).find((function(){kd=!1})),wd({target:"Array",proto:!0,forced:kd},{find:function(t){return xd(this,t,arguments.length>1?arguments[1]:void 0)}});var Ed=pv("Array").find,_d=ft,Od=Ed,Ad=Array.prototype,Pd=function(t){var e=t.find;return t===Ad||_d(Ad,t)&&e===Ad.find?Od:e};!function(t){t.exports=Pd}(bd);var jd=l(bd.exports),Td={exports:{}},Md=Rr,Ld=v,Rd=x,Cd=P,Id=$u,Ud=ec,Dd=/MSIE .\./.test(lt),Nd=Ld.Function,Fd=function(t){return function(e,r){var n=Ud(arguments.length,1)>2,o=Cd(e)?e:Nd(e),i=n?Id(arguments,2):void 0;return t(n?function(){Rd(o,this,i)}:o,r)}};Md({global:!0,bind:!0,forced:Dd},{setTimeout:Fd(Ld.setTimeout),setInterval:Fd(Ld.setInterval)});var Gd=ot.setInterval;!function(t){t.exports=Gd}(Td);var Vd=l(Td.exports),zd={exports:{}};!function(t){t.exports=id}(zd);var Wd=l(zd.exports),Bd={exports:{}},Qd=pv("Array").concat,Hd=ft,qd=Qd,Kd=Array.prototype,Yd=function(t){var e=t.concat;return t===Kd||Hd(Kd,t)&&e===Kd.concat?qd:e};!function(t){t.exports=Yd}(Bd);var Jd=l(Bd.exports),Xd={exports:{}},Zd=ot.setTimeout;!function(t){t.exports=Zd}(Xd);var $d=l(Xd.exports),ty=new Uint8Array([88,0,0,0]),ey=new Uint8Array([26,165,74,6,73,7,72,8,71,9,70,10,69,11,68,12,67,13,66,14,65]),ry=new Uint8Array([24,255,1,0,0,0,0,0,0,0,0,0,0,0,0]),ny=new Uint8Array([25,255,0,255,255,255,255]),oy=new Uint8Array([27,255,0,0,0,0,0,0,0,0,0]),iy={HEADER:ty,INIT:ey,DISCONNECT:new Uint8Array([84]),START_MEASUREMENTS:ry,STOP_MEASUREMENTS:ny,SET_MEASUREMENT_PERIOD:oy,GET_INFO:new Uint8Array([85]),GET_STATUS:new Uint8Array([16]),GET_SENSOR_IDS:new Uint8Array([81]),GET_SENSOR_INFO:new Uint8Array([80,0]),GET_DEFAULT_SENSORS_MASK:new Uint8Array([86])},ay=6,uy=7,cy=10,sy=8,fy=9,ly=11,py=12,hy=13,vy=14,dy=32,yy={exports:{}},gy={exports:{}},my=d((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),by=d,wy=nt,xy=B,Sy=my,ky=Object.isExtensible,Ey=by((function(){ky(1)}))||Sy?function(t){return!!wy(t)&&((!Sy||"ArrayBuffer"!=xy(t))&&(!ky||ky(t)))}:ky,_y=!d((function(){return Object.isExtensible(Object.preventExtensions({}))})),Oy=Rr,Ay=A,Py=xn,jy=nt,Ty=$t,My=er.f,Ly=rn,Ry=Yl,Cy=Ey,Iy=_y,Uy=!1,Dy=oe("meta"),Ny=0,Fy=function(t){My(t,Dy,{value:{objectID:"O"+Ny++,weakData:{}}})},Gy=gy.exports={enable:function(){Gy.enable=function(){},Uy=!0;var t=Ly.f,e=Ay([].splice),r={};r[Dy]=1,t(r).length&&(Ly.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++)if(n[o]===Dy){e(n,o,1);break}return n},Oy({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Ry.f}))},fastKey:function(t,e){if(!jy(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Ty(t,Dy)){if(!Cy(t))return"F";if(!e)return"E";Fy(t)}return t[Dy].objectID},getWeakData:function(t,e){if(!Ty(t,Dy)){if(!Cy(t))return!0;if(!e)return!1;Fy(t)}return t[Dy].weakData},onFreeze:function(t){return Iy&&Uy&&Cy(t)&&!Ty(t,Dy)&&Fy(t),t}};Py[Dy]=!0;var Vy=Rr,zy=v,Wy=gy.exports,By=d,Qy=xr,Hy=si,qy=Su,Ky=P,Yy=nt,Jy=Da,Xy=er.f,Zy=wp.forEach,$y=T,tg=la.set,eg=la.getterFor,rg=er.f,ng=lo,og=vu,ig=tr,ag=Su,ug=si,cg=ou,sg=bu,fg=T,lg=gy.exports.fastKey,pg=la.set,hg=la.getterFor,vg={getConstructor:function(t,e,r,n){var o=t((function(t,o){ag(t,i),pg(t,{type:e,index:ng(null),first:void 0,last:void 0,size:0}),fg||(t.size=0),null!=o&&ug(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=hg(e),u=function(t,e,r){var n,o,i=a(t),u=c(t,e);return u?u.value=r:(i.last=u={index:o=lg(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=u),n&&(n.next=u),fg?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},c=function(t,e){var r,n=a(t),o=lg(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return og(i,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,fg?t.size=0:this.size=0},delete:function(t){var e=this,r=a(e),n=c(e,t);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),fg?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=a(this),n=ig(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),og(i,r?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),fg&&rg(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=hg(e),i=hg(n);cg(t,e,(function(t,e){pg(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),sg(e)}},dg=function(t,e,r){var n,o=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),a=o?"set":"add",u=zy[t],c=u&&u.prototype,s={};if($y&&Ky(u)&&(i||c.forEach&&!By((function(){(new u).entries().next()})))){var f=(n=e((function(e,r){tg(qy(e,f),{type:t,collection:new u}),null!=r&&Hy(r,e[a],{that:e,AS_ENTRIES:o})}))).prototype,l=eg(t);Zy(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in c)||i&&"clear"==t||Qy(f,t,(function(r,n){var o=l(this).collection;if(!e&&i&&!Yy(r))return"get"==t&&void 0;var a=o[t](0===r?0:r,n);return e?this:a}))})),i||Xy(f,"size",{configurable:!0,get:function(){return l(this).collection.size}})}else n=r.getConstructor(e,t,o,a),Wy.enable();return Jy(n,t,!1,!0),s[t]=n,Vy({global:!0,forced:!0},s),i||r.setStrong(n,t,o),n};dg("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),vg);var yg=ot.Map;!function(t){t.exports=yg}(yy);var gg=l(yy.exports),mg={exports:{}},bg=Ct,wg=Jt,xg=J,Sg=dn,kg=v.TypeError,Eg=function(t){return function(e,r,n,o){bg(r);var i=wg(e),a=xg(i),u=Sg(i),c=t?u-1:0,s=t?-1:1;if(n<2)for(;;){if(c in a){o=a[c],c+=s;break}if(c+=s,t?c<0:u<=c)throw kg("Reduce of empty array with no initial value")}for(;t?c>=0:u>c;c+=s)c in a&&(o=r(o,a[c],c,i));return o}},_g={left:Eg(!1),right:Eg(!0)}.left,Og=mt,Ag=nc;Rr({target:"Array",proto:!0,forced:!cv("reduce")||!Ag&&Og>79&&Og<83},{reduce:function(t){var e=arguments.length;return _g(this,t,e,e>1?arguments[1]:void 0)}});var Pg=pv("Array").reduce,jg=ft,Tg=Pg,Mg=Array.prototype,Lg=function(t){var e=t.reduce;return t===Mg||jg(Mg,t)&&e===Mg.reduce?Tg:e};!function(t){t.exports=Lg}(mg);var Rg=l(mg.exports),Cg={exports:{}},Ig=Rr,Ug=v,Dg=fn,Ng=an,Fg=dn,Gg=Jt,Vg=Ol,zg=ml,Wg=Tl("splice"),Bg=Ug.TypeError,Qg=Math.max,Hg=Math.min,qg=9007199254740991,Kg="Maximum allowed length exceeded";Ig({target:"Array",proto:!0,forced:!Wg},{splice:function(t,e){var r,n,o,i,a,u,c=Gg(this),s=Fg(c),f=Dg(t,s),l=arguments.length;if(0===l?r=n=0:1===l?(r=0,n=s-f):(r=l-2,n=Hg(Qg(Ng(e),0),s-f)),s+r-n>qg)throw Bg(Kg);for(o=Vg(c,n),i=0;i<n;i++)(a=f+i)in c&&zg(o,i,c[a]);if(o.length=n,r<n){for(i=f;i<s-n;i++)u=i+r,(a=i+n)in c?c[u]=c[a]:delete c[u];for(i=s;i>s-n+r;i--)delete c[i-1]}else if(r>n)for(i=s-n;i>f;i--)u=i+r-1,(a=i+n-1)in c?c[u]=c[a]:delete c[u];for(i=0;i<r;i++)c[i+f]=arguments[i+2];return c.length=s-n+r,o}});var Yg=pv("Array").splice,Jg=ft,Xg=Yg,Zg=Array.prototype,$g=function(t){var e=t.splice;return t===Zg||Jg(Zg,t)&&e===Zg.splice?Xg:e};!function(t){t.exports=$g}(Cg);var tm=l(Cg.exports),em=A,rm=Ct,nm=nt,om=$t,im=$u,am=y,um=v.Function,cm=em([].concat),sm=em([].join),fm={},lm=function(t,e,r){if(!om(fm,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";fm[e]=um("C,a","return new C("+sm(n,",")+")")}return fm[e](t,r)},pm=am?um.bind:function(t){var e=rm(this),r=e.prototype,n=im(arguments,1),o=function(){var r=cm(n,im(arguments));return this instanceof o?lm(e,r.length,r):e.apply(t,r)};return nm(r)&&(o.prototype=r),o},hm=pm;Rr({target:"Function",proto:!0,forced:Function.bind!==hm},{bind:hm});var vm=pv("Function").bind,dm=ft,ym=vm,gm=Function.prototype,mm=function(t){var e=t.bind;return t===gm||dm(gm,t)&&e===gm.bind?ym:e};!function(t){t.exports=mm}({exports:{}});var bm={exports:{}},wm=wp.map;Rr({target:"Array",proto:!0,forced:!Tl("map")},{map:function(t){return wm(this,t,arguments.length>1?arguments[1]:void 0)}});var xm=pv("Array").map,Sm=ft,km=xm,Em=Array.prototype,_m=function(t){var e=t.map;return t===Em||Sm(Em,t)&&e===Em.map?km:e};!function(t){t.exports=_m}(bm);var Om=l(bm.exports),Am={exports:{}},Pm=ur,jm=Yo,Tm=tr,Mm=R,Lm=Jt,Rm=function(t,e,r,n){try{return n?e(Pm(r)[0],r[1]):e(r)}catch(e){jm(t,"throw",e)}},Cm=ko,Im=Qu,Um=dn,Dm=ml,Nm=Qo,Fm=No,Gm=v.Array,Vm=function(t){var e=Lm(t),r=Im(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Tm(o,n>2?arguments[2]:void 0));var a,u,c,s,f,l,p=Fm(e),h=0;if(!p||this==Gm&&Cm(p))for(a=Um(e),u=r?new this(a):Gm(a);a>h;h++)l=i?o(e[h],h):e[h],Dm(u,h,l);else for(f=(s=Nm(e,p)).next,u=r?new this:[];!(c=Mm(f,s)).done;h++)l=i?Rm(s,o,[c.value,h],!0):c.value,Dm(u,h,l);return u.length=h,u};Rr({target:"Array",stat:!0,forced:!Au((function(t){Array.from(t)}))},{from:Vm});var zm=ot.Array.from;!function(t){t.exports=zm}(Am);var Wm=l(Am.exports),Bm={exports:{}},Qm=an,Hm=pi,qm=Z,Km=v.RangeError,Ym=A,Jm=hn,Xm=pi,Zm=Z,$m=Ym((function(t){var e=Hm(qm(this)),r="",n=Qm(t);if(n<0||n==1/0)throw Km("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r})),tb=Ym("".slice),eb=Math.ceil,rb=function(t){return function(e,r,n){var o,i,a=Xm(Zm(e)),u=Jm(r),c=a.length,s=void 0===n?" ":Xm(n);return u<=c||""==s?a:((i=$m(s,eb((o=u-c)/s.length))).length>o&&(i=tb(i,0,o)),t?a+i:i+a)}},nb={start:rb(!1),end:rb(!0)},ob=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(lt),ib=nb.start;Rr({target:"String",proto:!0,forced:ob},{padStart:function(t){return ib(this,t,arguments.length>1?arguments[1]:void 0)}});var ab=pv("String").padStart,ub=ft,cb=ab,sb=String.prototype,fb=function(t){var e=t.padStart;return"string"==typeof t||t===sb||ub(sb,t)&&e===sb.padStart?cb:e};!function(t){t.exports=fb}(Bm);var lb=l(Bm.exports),pb=function(t){return 0!==t},hb=function(){function t(){r(this,t),this._listenerMap=new gg}return o(t,[{key:"on",value:function(t,e){this._listenerMap.has(t)||this._listenerMap.set(t,[]),this._listenerMap.get(t).push(e)}},{key:"off",value:function(t,e){var r=this._listenerMap.get(t);if(r&&r.length){var n=Rg(r).call(r,(function(t,r,n){return"function"==typeof r&&r===e?t=n:t}),-1);if(n>-1)return tm(r).call(r,n,1),this._listenerMap.set(t,r),!0}return!1}},{key:"unbind",value:function(){this._listenerMap.clear()}},{key:"emit",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=this._listenerMap.get(t);return!(!o||!o.length)&&(md(o).call(o,(function(t){t.apply(void 0,r)})),!0)}}]),t}(),vb=function(){},db=function(){};function yb(t){var e;return Om(e=Wm(new Uint8Array(t))).call(e,(function(t){var e;return lb(e=t.toString(16)).call(e,2,"0")})).join(" ")}var gb={exports:{}},mb=pv("Array").values,bb=Ro,wb=$t,xb=ft,Sb=mb,kb=Array.prototype,Eb={DOMTokenList:!0,NodeList:!0},_b=function(t){var e=t.values;return t===kb||xb(kb,t)&&e===kb.values||wb(Eb,bb(t))?Sb:e};!function(t){t.exports=_b}(gb);var Ob,Ab=l(gb.exports),Pb=o((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.type=e.type,this.mode=e.mode,this.minValue=e.minValue,this.maxValue=e.maxValue,this.uncertainty=e.uncertainty,this.minPeriod=e.minPeriod,this.maxPeriod=e.maxPeriod,this.typicalPeriod=e.typicalPeriod,this.granularity=e.granularity})),jb=o((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.number=e.number,this.name=e.name,this.unit=e.unit,this.id=e.id,this.mutalExclusionMask=e.mutalExclusionMask,this.measurementInfo=e.measurementInfo})),Tb=function(t){i(n,t);var e=s(n);function n(t){var o;return r(this,n),(o=e.call(this)).number=t.number,o.name=t.name,o.unit=t.unit,o.specs=t,o.enabled=!1,o.values=[],o.value=null,o}return o(n,[{key:"clear",value:function(){this.value=null,this.values=[]}},{key:"setValue",value:function(t,e){this.value=t,e&&Ab(this).push(this.value),this.emit("value-changed",this)}},{key:"setEnabled",value:function(t){this.enabled!==t&&(this.enabled=t,this.emit("state-changed",this))}}]),n}(hb),Mb=function(t){i(m,t);var n,a,u,c,f,l,p,h,v,d,y,g=s(m);function m(t){var e;if(r(this,m),e=g.call(this),"undefined"==typeof TextDecoder){var n=require("text-encoding");Ob=n.TextDecoder}else Ob=TextDecoder;return e.device=t,e.sensors=[],e.opened=!1,e.rollingCounter=0,e.collecting=!1,e.measurementPeriod=10,e.response=null,e.remainingResponseLength=0,e.defaultSensorsMask=0,e.keepValues=!0,e.minMeasurementPeriod=10,e.serialNumber="",e.orderCode="",e.name="",e}return o(m,[{key:"getBatteryLevel",value:(y=e(cd.mark((function t(){var e;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getStatus();case 2:return e=t.sent,t.abrupt("return",e.battery);case 4:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"getChargingState",value:(d=e(cd.mark((function t(){var e;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getStatus();case 2:return e=t.sent,t.abrupt("return",e.chargingStatus);case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"open",value:(v=e(cd.mark((function t(){var e,r=arguments;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]&&r[0],!this.opened){t.next=3;break}throw new Error("Device cannot be opened because it is already open");case 3:return t.next=5,this._connect();case 5:return t.next=7,this._init();case 7:return t.next=9,this._getStatus();case 9:return t.next=11,this._getDeviceInfo();case 11:return t.next=13,this._getDefaultSensorsMask();case 13:return t.next=15,this._getAvailableSensors();case 15:this._onOpened(),e&&this.start();case 17:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"close",value:(h=e(cd.mark((function t(){return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.opened){t.next=2;break}throw new Error("Device cannot be closed because it is not open");case 2:return t.next=4,this._stopMeasurements();case 4:return t.next=6,this._sendCommand(iy.DISCONNECT);case 6:return t.abrupt("return",this._disconnect());case 7:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"enableDefaultSensors",value:function(){for(var t=1,e=0;e<32;++e){if((this.defaultSensorsMask&t)===t){var r=this.getSensor(e);r&&r.setEnabled(!0)}t<<=1}}},{key:"start",value:function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=yd(t=this.sensors).call(t,(function(t){return t.enabled}));0===n.length&&(this.enableDefaultSensors(),n=yd(e=this.sensors).call(e,(function(t){return t.enabled})));md(n).call(n,(function(t){return t.clear()})),r&&(this.measurementPeriod=r),this._startMeasurements()}},{key:"stop",value:function(){this._stopMeasurements()}},{key:"getSensor",value:function(t){var e;return jd(e=this.sensors).call(e,(function(e){return e.number===t}))}},{key:"_connect",value:(p=e(cd.mark((function t(){var e=this;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.device.setup({onClosed:function(){return e._onClosed()},onResponse:function(t){return e._handleResponse(t)}}).then((function(){e.writeQueue=[],e.deviceWriteInterval=Vd((function(){if(e.writeQueue&&e.writeQueue.length>0){var t=e.writeQueue[0];t.written||(e._writeToDevice(t.buffer),t.written=!0)}}),10)})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"_disconnect",value:(l=e(cd.mark((function t(){return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearInterval(this.deviceWriteInterval),t.abrupt("return",this.device.close());case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"_init",value:function(){return this.collecting=!1,this.rollingCounter=255,this._sendCommand(iy.INIT)}},{key:"_handleResponse",value:function(t){var e,r,n,o;if(vb("command notified: ".concat(yb(t.buffer))),this.remainingResponseLegnth>0){if(this.remainingResponseLegnth-=t.buffer.byteLength,this.response=new DataView((r=this.response.buffer,n=Wd(e=t.buffer).call(e,0),(o=new Uint8Array(r.byteLength+n.byteLength)).set(new Uint8Array(r),0),o.set(new Uint8Array(n),r.byteLength),o.buffer)),this.remainingResponseLegnth>0)return}else this.response=t;var i=this.response.getUint8(1);if(i>this.response.buffer.byteLength)this.remainingResponseLegnth=i-this.response.buffer.byteLength;else if(vb("handle command: ".concat(yb(this.response.buffer))),this.response.getUint8(0)===dy)this._processMeasurements(this.response);else{var a=this.response.getUint8(4),u=this.response.getUint8(5),c=new DataView(this.response.buffer,6);this._resolveWriteCommand(a,u,c),this.remainingResponseLegnth=0,this.response=null}}},{key:"_getSensorsWithMask",value:function(t){for(var e=[],r=1,n=0;n<32;++n){if((t&r)===r){var o,i=this.getSensor(n);if(i)e.push(i),vb(Jd(o="available: [".concat(t,"] ")).call(o,e[e.length-1].number))}r<<=1}return e}},{key:"_processMeasurements",value:function(t){var e=[],r=!0,n=0,o=0,i=t.getUint8(4);switch(i){case ay:e=this._getSensorsWithMask(t.getUint16(5,!0)),n=t.getUint8(7,!0),o=9;break;case uy:e=this._getSensorsWithMask(t.getUint32(5,!0)),n=t.getUint8(9,!0),o=11;break;case cy:case sy:e[0]=this.getSensor(t.getUint8(6)),n=t.getUint8(7,!0),o=8;break;case ly:case fy:e[0]=this.getSensor(t.getUint8(6)),n=t.getUint8(7,!0),o=8,r=!1;break;case py:case hy:case vy:vb("Purposely Ignoring packet type: ".concat(i));break;default:vb("Unknown packet type: ".concat(i))}for(var a=0;a<n;++a)for(var u=0;u<e.length;++u)r?e[u].setValue(t.getFloat32(o,!0),this.keepValues):e[u].setValue(t.getInt32(o,!0),this.keepValues),o+=4}},{key:"_resolveWriteCommand",value:function(t,e,r){var n,o,i=jd(n=this.writeQueue).call(n,(function(r){return r.command===t&&r.rollingCounter===e}));i&&(clearTimeout(i.timeout),this.writeQueue=yd(o=this.writeQueue).call(o,(function(t){return t!==i})),i.resolve(r))}},{key:"_onOpened",value:function(){vb("opened"),this.opened=!0,this.emit("device-opened")}},{key:"_onClosed",value:function(){vb("closed"),this.opened=!1,this.emit("device-closed")}},{key:"_decRollingCounter",value:function(){return this.rollingCounter-=1,this.rollingCounter}},{key:"_calculateChecksum",value:function(t){for(var e=t[1],r=-1*t[3],n=0;n<e;++n)r+=t[n],r&=255;return r<0||r>255?(vb("Checksum failed!"),0):r}},{key:"_sendCommand",value:function(t){var e=new Uint8Array(iy.HEADER.byteLength+t.byteLength);return e.set(new Uint8Array(iy.HEADER),0),e.set(new Uint8Array(t),iy.HEADER.byteLength),e[1]=e.length,e[2]=this._decRollingCounter(),e[3]=this._calculateChecksum(e),this._queueWriteCommand(e)}},{key:"_writeToDevice",value:(f=e(cd.mark((function t(e){var r,n,o;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,o=e.length;case 2:if(!(o>0)){t.next=14;break}return t.prev=3,o>this.device.maxPacketLength?(r=e.subarray(n,n+this.device.maxPacketLength),o-=this.device.maxPacketLength,n+=this.device.maxPacketLength):(r=e.subarray(n,n+o),o=0),t.next=7,this.device.writeCommand(r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),vb("Write Failure: ".concat(t.t0));case 12:t.next=2;break;case 14:case"end":return t.stop()}}),t,this,[[3,9]])}))),function(t){return f.apply(this,arguments)})},{key:"_queueWriteCommand",value:function(t){var e=this;return vb("command queued: ".concat(yb(t))),new sl((function(r,n){var o={command:t[4],rollingCounter:t[2],buffer:t,written:!1,resolve:r,reject:n};o.timeout=$d((function(){var r,i;e.writeQueue=yd(r=e.writeQueue).call(r,(function(t){return t!==o})),n(new Error(Jd(i="write command timed out after 5s. Command: ".concat(t[4].toString(16)," Rolling Counter: ")).call(i,t[2].toString(16))))}),5e3),e.writeQueue.push(o)}))}},{key:"_getStatus",value:(c=e(cd.mark((function t(){var e,r,n,o;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendCommand(iy.GET_STATUS);case 2:return n=t.sent,o={mainFirmwareVersion:Jd(e="".concat(n.getUint8(2),".")).call(e,n.getUint8(3)),bleFirmwareVersion:Jd(r="".concat(n.getUint8(6),".")).call(r,n.getUint8(9)),battery:n.getUint8(10),chargingStatus:"".concat(n.getUint8(11))},t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"_getAvailableSensors",value:(u=e(cd.mark((function t(){var e,r,n=this;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendCommand(iy.GET_SENSOR_IDS).then((function(t){n.availableSensors=t.getUint32(0,!0),vb("Get Available Sensors Returned ".concat(n.availableSensors))}));case 2:e=1,r=0;case 4:if(!(r<31)){t.next=12;break}if((this.availableSensors&e)!==e){t.next=8;break}return t.next=8,this._getSensorInfo(r);case 8:e<<=1;case 9:++r,t.next=4;break;case 12:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"_getDefaultSensorsMask",value:function(){var t=this;return this._sendCommand(iy.GET_DEFAULT_SENSORS_MASK).then((function(e){t.defaultSensorsMask=e.getUint32(0,!0),vb("Default Sensors:"),db(t)}))}},{key:"_getDeviceInfo",value:function(){var t=this;return this._sendCommand(iy.GET_INFO).then((function(e){var r,n,o,i=new Ob("utf-8");t.orderCode=i.decode(yd(r=new Uint8Array(e.buffer,6,16)).call(r,pb)),t.serialNumber=i.decode(yd(n=new Uint8Array(e.buffer,22,16)).call(n,pb)),t.name=i.decode(yd(o=new Uint8Array(e.buffer,38,32)).call(o,pb)),vb("Device Info:"),db(t)}))}},{key:"_getSensorInfo",value:(a=e(cd.mark((function t(e){var r,n=this;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Uint8Array(iy.GET_SENSOR_INFO))[1]=e,t.abrupt("return",this._sendCommand(r).then((function(t){var e=t.getUint32(2,!0);if(e>0){var r,o,i=new Ob("utf-8"),a=new Pb({type:t.getUint8(6),mode:t.getUint8(7),minValue:t.getFloat64(108,!0),maxValue:t.getFloat64(116,!0),uncertainty:t.getFloat64(100,!0),minPeriod:t.getUint32(124,!0)/1e3,maxPeriod:((t.getUint32(132,!0)<<32)+t.getUint32(128,!0))/1e3,typicalPeriod:t.getUint32(136,!0)/1e3,granularity:t.getUint32(140,!0)/1e3}),u=new jb({number:t.getUint8(0),name:i.decode(yd(r=new Uint8Array(t.buffer,14,60)).call(r,pb)),unit:i.decode(yd(o=new Uint8Array(t.buffer,74,32)).call(o,pb)),mutalExclusionMask:t.getUint32(144,!0),measurementInfo:a,sensorId:e}),c=new Tb(u);vb("Get Sensor Info Returned"),db(c),n.sensors.push(c),c.on("state-changed",(function(){var t;vb("Sensor Restart: ".concat(c.number)),c.enabled&&(n.measurementPeriod=c.specs.measurementInfo.typicalPeriod,md(t=n.sensors).call(t,(function(t){if(c.number!==t.number&&t.enabled){var e=1<<t.number;(e&c.specs.mutalExclusionMask)===e?t.enabled=!1:t.specs.measurementInfo.typicalPeriod>n.measurementPeriod&&(n.measurementPeriod=t.specs.measurementInfo.typicalPeriod)}}))),n._restartMeasurements()}))}})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"_restartMeasurements",value:(n=e(cd.mark((function t(){var e;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.collecting,!this.collecting){t.next=10;break}return t.prev=2,t.next=5,this._stopMeasurements();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:if(this.collecting||!e){t.next=19;break}return t.prev=11,t.next=14,this._startMeasurements();case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(11),console.error(t.t1);case 19:case"end":return t.stop()}}),t,this,[[2,7],[11,16]])}))),function(){return n.apply(this,arguments)})},{key:"_setMeasurementPeriod",value:function(t){var e=new Uint8Array(iy.SET_MEASUREMENT_PERIOD),r=1e3*this.minMeasurementPeriod;return t<r&&(t=r),vb("MeasurementPeriod: ".concat(t)),e[3]=t>>0&255,e[4]=t>>8&255,e[5]=t>>16&255,e[6]=t>>24&255,this._sendCommand(e)}},{key:"_getEnabledChannelMask",value:function(){var t,e=0,r=yd(t=this.sensors).call(t,(function(t){return t.enabled}));return md(r).call(r,(function(t){e+=1<<t.number})),e}},{key:"_startMeasurements",value:function(){var t=this;return this._setMeasurementPeriod(1e3*this.measurementPeriod).then((function(){var e=t._getEnabledChannelMask();vb("ChannelMask: ".concat(e));var r=new Uint8Array(iy.START_MEASUREMENTS);return r[3]=e>>0&255,r[4]=e>>8&255,r[5]=e>>16&255,r[6]=e>>24&255,t._sendCommand(r).then((function(e){0===e.getUint8(0)&&(t.collecting=!0,t.emit("measurements-started"))}))}))}},{key:"_stopMeasurements",value:function(){var t=this;return this._sendCommand(iy.STOP_MEASUREMENTS).then((function(e){0===e.getUint8(0)&&(t.collecting=!1,t.emit("measurements-stopped"))}))}}]),m}(hb),Lb=function(){function t(e){r(this,t),this.webBluetoothNativeDevice=e,this.maxPacketLength=20,this.deviceCommand=null,this.deviceResponse=null}var n,i,a;return o(t,[{key:"godirectAdapter",get:function(){return!0}},{key:"writeCommand",value:(a=e(cd.mark((function t(e){return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.deviceCommand.writeValue(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setup",value:(i=e(cd.mark((function t(e){var r,n,o,i,a,u=this;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.onClosed,n=e.onResponse,this.webBluetoothNativeDevice.addEventListener("gattserverdisconnected",r),t.prev=2,t.next=5,this.webBluetoothNativeDevice.gatt.connect();case 5:return o=t.sent,t.next=8,o.getPrimaryService("d91714ef-28b9-4f91-ba16-f0d9a604f112");case 8:return i=t.sent,t.next=11,i.getCharacteristics();case 11:a=t.sent,md(a).call(a,(function(t){switch(t.uuid){case"f4bf14a6-c7d5-4b6d-8aa8-df1a7c83adcb":u.deviceCommand=t;break;case"b41e6675-a329-40e0-aa01-44d2f444babe":u.deviceResponse=t,u.deviceResponse.addEventListener("characteristicvaluechanged",(function(t){var e=t.target.value;n(e)})),u.deviceResponse.startNotifications();break;default:vb("No case found for ".concat(t.uuid))}})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.error(t.t0);case 18:if(this.deviceCommand&&this.deviceResponse){t.next=20;break}throw new Error("Expected command and response characteristics not found");case 20:case"end":return t.stop()}}),t,this,[[2,15]])}))),function(t){return i.apply(this,arguments)})},{key:"close",value:(n=e(cd.mark((function t(){return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.webBluetoothNativeDevice.gatt.disconnect());case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),Rb=function(){function t(e){r(this,t),this.webUsbNativeDevice=e,this.onResponse=null,this.onClosed=null,this.reportId=0,this.maxPacketLength=63}var n,i,a;return o(t,[{key:"godirectAdapter",get:function(){return!0}},{key:"writeCommand",value:(a=e(cd.mark((function t(e){var r;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Uint8Array(64))[0]=e.byteLength,r.set(e,1),t.abrupt("return",this.webUsbNativeDevice.sendReport(this.reportId,r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setup",value:(i=e(cd.mark((function t(e){var r,n,o=this;return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.onClosed,n=e.onResponse,t.next=3,this.webUsbNativeDevice.open();case 3:this.onResponse=n,this.onClosed=r,this.reportId=this.webUsbNativeDevice.collections[0].outputReports[0].reportId,this.webUsbNativeDevice.oninputreport=function(t){var e,r=new DataView(Wd(e=t.data.buffer).call(e,1));o.onResponse(r)};case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"close",value:(n=e(cd.mark((function t(){return cd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.webUsbNativeDevice.close(),this.onClosed();case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),Cb={createDevice:function(t){var r=arguments;return e(cd.mark((function e(){var n,o,i,a,u,c,s;return cd.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},o=n.open,i=void 0===o||o,a=n.startMeasurements,u=void 0===a||a,(c=t).godirectAdapter){e.next=12;break}if(!t.gatt){e.next=7;break}c=new Lb(t),e.next=12;break;case 7:if(!t.collections[0].outputReports[0]){e.next=11;break}c=new Rb(t),e.next=12;break;case 11:throw new Error("Device Open Failed [ No matching adapter ]");case 12:if(s=new Mb(c),!i){e.next=23;break}return e.prev=14,e.next=17,s.open(u);case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(14),console.error(e.t0),new Error("Device Open Failed [".concat(e.t0,"]"));case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[14,19]])})))()},selectDevice:function(){var t=arguments;return e(cd.mark((function e(){var r,n;return cd.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t.length>0&&void 0!==t[0])||t[0])){e.next=9;break}if(navigator.bluetooth){e.next=4;break}return e.abrupt("return",sl.reject(new Error("No Web Bluetooth support.")));case 4:return e.next=6,navigator.bluetooth.requestDevice({filters:[{namePrefix:"GDX"}],optionalServices:["d91714ef-28b9-4f91-ba16-f0d9a604f112"]});case 6:r=e.sent,e.next=15;break;case 9:if(navigator.hid){e.next=11;break}return e.abrupt("return",sl.reject(new Error("No Web HID support.")));case 11:return e.next=13,navigator.hid.requestDevice({filters:[{vendorId:2295,productId:16}]});case 13:n=e.sent,r=n[0];case 15:if(r){e.next=17;break}throw new DOMException("No device selected.");case 17:return e.abrupt("return",Cb.createDevice(r));case 18:case"end":return e.stop()}}),e)})))()}};return Cb}));
