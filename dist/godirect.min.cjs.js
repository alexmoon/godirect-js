/**
 * Copyright (c) 2024 Vernier Software. All rights reserved.
 * This code may only be used under the BSD 3-Clause license found at
 * https://raw.githubusercontent.com/VernierST/godirect-js/main/LICENSE
 */

"use strict";function t(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function u(e){t(a,o,i,u,c,"next",e)}function c(e){t(a,o,i,u,c,"throw",e)}u(void 0)}))}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p={exports:{}},h=function(t){return t&&t.Math==Math&&t},v=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof f&&f)||function(){return this}()||Function("return this")(),d=function(t){try{return!!t()}catch(t){return!0}},y=!d((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),g=y,m=Function.prototype,b=m.apply,w=m.call,x="object"==typeof Reflect&&Reflect.apply||(g?w.bind(b):function(){return w.apply(b,arguments)}),S=y,k=Function.prototype,E=k.bind,_=k.call,O=S&&E.bind(_,_),A=S?function(t){return t&&O(t)}:function(t){return t&&function(){return _.apply(t,arguments)}},j=function(t){return"function"==typeof t},P={},T=!d((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),M=y,L=Function.prototype.call,R=M?L.bind(L):function(){return L.apply(L,arguments)},I={},C={}.propertyIsEnumerable,U=Object.getOwnPropertyDescriptor,N=U&&!C.call({1:2},1);I.f=N?function(t){var e=U(this,t);return!!e&&e.enumerable}:C;var D,F,G=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V=A,z=V({}.toString),W=V("".slice),B=function(t){return W(z(t),8,-1)},Q=A,H=d,q=B,K=v.Object,Y=Q("".split),J=H((function(){return!K("z").propertyIsEnumerable(0)}))?function(t){return"String"==q(t)?Y(t,""):K(t)}:K,X=v.TypeError,Z=function(t){if(null==t)throw X("Can't call method on "+t);return t},$=J,tt=Z,et=function(t){return $(tt(t))},rt=j,nt=function(t){return"object"==typeof t?null!==t:rt(t)},ot={},it=ot,at=v,ut=j,ct=function(t){return ut(t)?t:void 0},st=function(t,e){return arguments.length<2?ct(it[t])||ct(at[t]):it[t]&&it[t][e]||at[t]&&at[t][e]},ft=A({}.isPrototypeOf),lt=st("navigator","userAgent")||"",pt=v,ht=lt,vt=pt.process,dt=pt.Deno,yt=vt&&vt.versions||dt&&dt.version,gt=yt&&yt.v8;gt&&(F=(D=gt.split("."))[0]>0&&D[0]<4?1:+(D[0]+D[1])),!F&&ht&&(!(D=ht.match(/Edge\/(\d+)/))||D[1]>=74)&&(D=ht.match(/Chrome\/(\d+)/))&&(F=+D[1]);var mt=F,bt=mt,wt=d,xt=!!Object.getOwnPropertySymbols&&!wt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&bt&&bt<41})),St=xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,kt=st,Et=j,_t=ft,Ot=St,At=v.Object,jt=Ot?function(t){return"symbol"==typeof t}:function(t){var e=kt("Symbol");return Et(e)&&_t(e.prototype,At(t))},Pt=v.String,Tt=function(t){try{return Pt(t)}catch(t){return"Object"}},Mt=j,Lt=Tt,Rt=v.TypeError,It=function(t){if(Mt(t))return t;throw Rt(Lt(t)+" is not a function")},Ct=It,Ut=function(t,e){var r=t[e];return null==r?void 0:Ct(r)},Nt=R,Dt=j,Ft=nt,Gt=v.TypeError,Vt={exports:{}},zt=v,Wt=Object.defineProperty,Bt=function(t,e){try{Wt(zt,t,{value:e,configurable:!0,writable:!0})}catch(r){zt[t]=e}return e},Qt=v["__core-js_shared__"]||Bt("__core-js_shared__",{}),Ht=Qt;(Vt.exports=function(t,e){return Ht[t]||(Ht[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.0",mode:"pure",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"});var qt=Z,Kt=v.Object,Yt=function(t){return Kt(qt(t))},Jt=Yt,Xt=A({}.hasOwnProperty),Zt=Object.hasOwn||function(t,e){return Xt(Jt(t),e)},$t=A,te=0,ee=Math.random(),re=$t(1..toString),ne=function(t){return"Symbol("+(void 0===t?"":t)+")_"+re(++te+ee,36)},oe=v,ie=Vt.exports,ae=Zt,ue=ne,ce=xt,se=St,fe=ie("wks"),le=oe.Symbol,pe=le&&le.for,he=se?le:le&&le.withoutSetter||ue,ve=function(t){if(!ae(fe,t)||!ce&&"string"!=typeof fe[t]){var e="Symbol."+t;ce&&ae(le,t)?fe[t]=le[t]:fe[t]=se&&pe?pe(e):he(e)}return fe[t]},de=R,ye=nt,ge=jt,me=Ut,be=function(t,e){var r,n;if("string"===e&&Dt(r=t.toString)&&!Ft(n=Nt(r,t)))return n;if(Dt(r=t.valueOf)&&!Ft(n=Nt(r,t)))return n;if("string"!==e&&Dt(r=t.toString)&&!Ft(n=Nt(r,t)))return n;throw Gt("Can't convert object to primitive value")},we=ve,xe=v.TypeError,Se=we("toPrimitive"),ke=function(t,e){if(!ye(t)||ge(t))return t;var r,n=me(t,Se);if(n){if(void 0===e&&(e="default"),r=de(n,t,e),!ye(r)||ge(r))return r;throw xe("Can't convert object to primitive value")}return void 0===e&&(e="number"),be(t,e)},Ee=jt,_e=function(t){var e=ke(t,"string");return Ee(e)?e:e+""},Oe=nt,Ae=v.document,je=Oe(Ae)&&Oe(Ae.createElement),Pe=function(t){return je?Ae.createElement(t):{}},Te=Pe,Me=!T&&!d((function(){return 7!=Object.defineProperty(Te("div"),"a",{get:function(){return 7}}).a})),Le=T,Re=R,Ie=I,Ce=G,Ue=et,Ne=_e,De=Zt,Fe=Me,Ge=Object.getOwnPropertyDescriptor;P.f=Le?Ge:function(t,e){if(t=Ue(t),e=Ne(e),Fe)try{return Ge(t,e)}catch(t){}if(De(t,e))return Ce(!Re(Ie.f,t,e),t[e])};var Ve=d,ze=j,We=/#|\.prototype\./,Be=function(t,e){var r=He[Qe(t)];return r==Ke||r!=qe&&(ze(e)?Ve(e):!!e)},Qe=Be.normalize=function(t){return String(t).replace(We,".").toLowerCase()},He=Be.data={},qe=Be.NATIVE="N",Ke=Be.POLYFILL="P",Ye=Be,Je=It,Xe=y,Ze=A(A.bind),$e=function(t,e){return Je(t),void 0===e?t:Xe?Ze(t,e):function(){return t.apply(e,arguments)}},tr={},er=T&&d((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),rr=v,nr=nt,or=rr.String,ir=rr.TypeError,ar=function(t){if(nr(t))return t;throw ir(or(t)+" is not an object")},ur=T,cr=Me,sr=er,fr=ar,lr=_e,pr=v.TypeError,hr=Object.defineProperty,vr=Object.getOwnPropertyDescriptor;tr.f=ur?sr?function(t,e,r){if(fr(t),e=lr(e),fr(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=vr(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return hr(t,e,r)}:hr:function(t,e,r){if(fr(t),e=lr(e),fr(r),cr)try{return hr(t,e,r)}catch(t){}if("get"in r||"set"in r)throw pr("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var dr=tr,yr=G,gr=T?function(t,e,r){return dr.f(t,e,yr(1,r))}:function(t,e,r){return t[e]=r,t},mr=v,br=x,wr=A,xr=j,Sr=P.f,kr=Ye,Er=ot,_r=$e,Or=gr,Ar=Zt,jr=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return br(t,this,arguments)};return e.prototype=t.prototype,e},Pr=function(t,e){var r,n,o,i,a,u,c,s,f=t.target,l=t.global,p=t.stat,h=t.proto,v=l?mr:p?mr[f]:(mr[f]||{}).prototype,d=l?Er:Er[f]||Or(Er,f,{})[f],y=d.prototype;for(o in e)r=!kr(l?o:f+(p?".":"#")+o,t.forced)&&v&&Ar(v,o),a=d[o],r&&(u=t.noTargetGet?(s=Sr(v,o))&&s.value:v[o]),i=r&&u?u:e[o],r&&typeof a==typeof i||(c=t.bind&&r?_r(i,mr):t.wrap&&r?jr(i):h&&xr(i)?wr(i):i,(t.sham||i&&i.sham||a&&a.sham)&&Or(c,"sham",!0),Or(d,o,c),h&&(Ar(Er,n=f+"Prototype")||Or(Er,n,{}),Or(Er[n],o,i),t.real&&y&&!y[o]&&Or(y,o,i)))},Tr=Vt.exports,Mr=ne,Lr=Tr("keys"),Rr=function(t){return Lr[t]||(Lr[t]=Mr(t))},Ir=!d((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Cr=v,Ur=Zt,Nr=j,Dr=Yt,Fr=Ir,Gr=Rr("IE_PROTO"),Vr=Cr.Object,zr=Vr.prototype,Wr=Fr?Vr.getPrototypeOf:function(t){var e=Dr(t);if(Ur(e,Gr))return e[Gr];var r=e.constructor;return Nr(r)&&e instanceof r?r.prototype:e instanceof Vr?zr:null},Br=v,Qr=j,Hr=Br.String,qr=Br.TypeError,Kr=A,Yr=ar,Jr=function(t){if("object"==typeof t||Qr(t))return t;throw qr("Can't set "+Hr(t)+" as a prototype")},Xr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Kr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Yr(r),Jr(n),e?t(r,n):r.__proto__=n,r}}():void 0),Zr={},$r=Math.ceil,tn=Math.floor,en=function(t){var e=+t;return e!=e||0===e?0:(e>0?tn:$r)(e)},rn=en,nn=Math.max,on=Math.min,an=function(t,e){var r=rn(t);return r<0?nn(r+e,0):on(r,e)},un=en,cn=Math.min,sn=function(t){return t>0?cn(un(t),9007199254740991):0},fn=sn,ln=function(t){return fn(t.length)},pn=et,hn=an,vn=ln,dn=function(t){return function(e,r,n){var o,i=pn(e),a=vn(i),u=hn(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},yn={includes:dn(!0),indexOf:dn(!1)},gn={},mn=Zt,bn=et,wn=yn.indexOf,xn=gn,Sn=A([].push),kn=function(t,e){var r,n=bn(t),o=0,i=[];for(r in n)!mn(xn,r)&&mn(n,r)&&Sn(i,r);for(;e.length>o;)mn(n,r=e[o++])&&(~wn(i,r)||Sn(i,r));return i},En=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_n=kn,On=En.concat("length","prototype");Zr.f=Object.getOwnPropertyNames||function(t){return _n(t,On)};var An={};An.f=Object.getOwnPropertySymbols;var jn=st,Pn=Zr,Tn=An,Mn=ar,Ln=A([].concat),Rn=jn("Reflect","ownKeys")||function(t){var e=Pn.f(Mn(t)),r=Tn.f;return r?Ln(e,r(t)):e},In=Zt,Cn=Rn,Un=P,Nn=tr,Dn={},Fn=kn,Gn=En,Vn=Object.keys||function(t){return Fn(t,Gn)},zn=T,Wn=er,Bn=tr,Qn=ar,Hn=et,qn=Vn;Dn.f=zn&&!Wn?Object.defineProperties:function(t,e){Qn(t);for(var r,n=Hn(e),o=qn(e),i=o.length,a=0;i>a;)Bn.f(t,r=o[a++],n[r]);return t};var Kn,Yn=st("document","documentElement"),Jn=ar,Xn=Dn,Zn=En,$n=gn,to=Yn,eo=Pe,ro=Rr("IE_PROTO"),no=function(){},oo=function(t){return"<script>"+t+"<\/script>"},io=function(t){t.write(oo("")),t.close();var e=t.parentWindow.Object;return t=null,e},ao=function(){try{Kn=new ActiveXObject("htmlfile")}catch(t){}var t,e;ao="undefined"!=typeof document?document.domain&&Kn?io(Kn):((e=eo("iframe")).style.display="none",to.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(oo("document.F=Object")),t.close(),t.F):io(Kn);for(var r=Zn.length;r--;)delete ao.prototype[Zn[r]];return ao()};$n[ro]=!0;var uo=Object.create||function(t,e){var r;return null!==t?(no.prototype=Jn(t),r=new no,no.prototype=null,r[ro]=t):r=ao(),void 0===e?r:Xn.f(r,e)},co=A("".replace),so=String(Error("zxcasd").stack),fo=/\n\s*at [^:]*:[^\n]*/,lo=fo.test(so),po=nt,ho=gr,vo={},yo=vo,go=ve("iterator"),mo=Array.prototype,bo=function(t){return void 0!==t&&(yo.Array===t||mo[go]===t)},wo={};wo[ve("toStringTag")]="z";var xo="[object z]"===String(wo),So=v,ko=xo,Eo=j,_o=B,Oo=ve("toStringTag"),Ao=So.Object,jo="Arguments"==_o(function(){return arguments}()),Po=ko?_o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Ao(t),Oo))?r:jo?_o(e):"Object"==(n=_o(e))&&Eo(e.callee)?"Arguments":n},To=Po,Mo=Ut,Lo=vo,Ro=ve("iterator"),Io=function(t){if(null!=t)return Mo(t,Ro)||Mo(t,"@@iterator")||Lo[To(t)]},Co=R,Uo=It,No=ar,Do=Tt,Fo=Io,Go=v.TypeError,Vo=function(t,e){var r=arguments.length<2?Fo(t):e;if(Uo(r))return No(Co(r,t));throw Go(Do(t)+" is not iterable")},zo=R,Wo=ar,Bo=Ut,Qo=function(t,e,r){var n,o;Wo(t);try{if(!(n=Bo(t,"return"))){if("throw"===e)throw r;return r}n=zo(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Wo(n),r},Ho=$e,qo=R,Ko=ar,Yo=Tt,Jo=bo,Xo=ln,Zo=ft,$o=Vo,ti=Io,ei=Qo,ri=v.TypeError,ni=function(t,e){this.stopped=t,this.result=e},oi=ni.prototype,ii=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),v=Ho(e,f),d=function(t){return n&&ei(n,"normal",t),new ni(!0,t)},y=function(t){return l?(Ko(t),h?v(t[0],t[1],d):v(t[0],t[1])):h?v(t,d):v(t)};if(p)n=t;else{if(!(o=ti(t)))throw ri(Yo(t)+" is not iterable");if(Jo(o)){for(i=0,a=Xo(t);a>i;i++)if((u=y(t[i]))&&Zo(oi,u))return u;return new ni(!1)}n=$o(t,o)}for(c=n.next;!(s=qo(c,n)).done;){try{u=y(s.value)}catch(t){ei(n,"throw",t)}if("object"==typeof u&&u&&Zo(oi,u))return u}return new ni(!1)},ai=Po,ui=v.String,ci=function(t){if("Symbol"===ai(t))throw TypeError("Cannot convert a Symbol value to a string");return ui(t)},si=ci,fi=G,li=!d((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",fi(1,7)),7!==t.stack)})),pi=Pr,hi=v,vi=ft,di=Wr,yi=Xr,gi=function(t,e,r){for(var n=Cn(e),o=Nn.f,i=Un.f,a=0;a<n.length;a++){var u=n[a];In(t,u)||r&&In(r,u)||o(t,u,i(e,u))}},mi=uo,bi=gr,wi=G,xi=function(t,e){if(lo&&"string"==typeof t)for(;e--;)t=co(t,fo,"");return t},Si=function(t,e){po(e)&&"cause"in e&&ho(t,"cause",e.cause)},ki=ii,Ei=function(t,e){return void 0===t?arguments.length<2?"":e:si(t)},_i=li,Oi=ve("toStringTag"),Ai=hi.Error,ji=[].push,Pi=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,o=vi(Ti,this);yi?r=yi(new Ai,o?di(this):Ti):(r=o?this:mi(Ti),bi(r,Oi,"Error")),void 0!==e&&bi(r,"message",Ei(e)),_i&&bi(r,"stack",xi(r.stack,1)),Si(r,n);var i=[];return ki(t,ji,{that:i}),bi(r,"errors",i),r};yi?yi(Pi,Ai):gi(Pi,Ai,{name:!0});var Ti=Pi.prototype=mi(Ai.prototype,{constructor:wi(1,Pi),message:wi(1,""),name:wi(1,"AggregateError")});pi({global:!0},{AggregateError:Pi});var Mi=j,Li=Qt,Ri=A(Function.toString);Mi(Li.inspectSource)||(Li.inspectSource=function(t){return Ri(t)});var Ii,Ci,Ui,Ni=Li.inspectSource,Di=j,Fi=Ni,Gi=v.WeakMap,Vi=Di(Gi)&&/native code/.test(Fi(Gi)),zi=v,Wi=A,Bi=nt,Qi=gr,Hi=Zt,qi=Qt,Ki=Rr,Yi=gn,Ji=zi.TypeError,Xi=zi.WeakMap;if(Vi||qi.state){var Zi=qi.state||(qi.state=new Xi),$i=Wi(Zi.get),ta=Wi(Zi.has),ea=Wi(Zi.set);Ii=function(t,e){if(ta(Zi,t))throw new Ji("Object already initialized");return e.facade=t,ea(Zi,t,e),e},Ci=function(t){return $i(Zi,t)||{}},Ui=function(t){return ta(Zi,t)}}else{var ra=Ki("state");Yi[ra]=!0,Ii=function(t,e){if(Hi(t,ra))throw new Ji("Object already initialized");return e.facade=t,Qi(t,ra,e),e},Ci=function(t){return Hi(t,ra)?t[ra]:{}},Ui=function(t){return Hi(t,ra)}}var na,oa,ia,aa={set:Ii,get:Ci,has:Ui,enforce:function(t){return Ui(t)?Ci(t):Ii(t,{})},getterFor:function(t){return function(e){var r;if(!Bi(e)||(r=Ci(e)).type!==t)throw Ji("Incompatible receiver, "+t+" required");return r}}},ua=T,ca=Zt,sa=Function.prototype,fa=ua&&Object.getOwnPropertyDescriptor,la=ca(sa,"name"),pa={EXISTS:la,PROPER:la&&"something"===function(){}.name,CONFIGURABLE:la&&(!ua||ua&&fa(sa,"name").configurable)},ha=gr,va=function(t,e,r,n){n&&n.enumerable?t[e]=r:ha(t,e,r)},da=d,ya=j,ga=uo,ma=Wr,ba=va,wa=ve("iterator"),xa=!1;[].keys&&("next"in(ia=[].keys())?(oa=ma(ma(ia)))!==Object.prototype&&(na=oa):xa=!0);var Sa=null==na||da((function(){var t={};return na[wa].call(t)!==t}));ya((na=Sa?{}:ga(na))[wa])||ba(na,wa,(function(){return this}));var ka={IteratorPrototype:na,BUGGY_SAFARI_ITERATORS:xa},Ea=Po,_a=xo?{}.toString:function(){return"[object "+Ea(this)+"]"},Oa=xo,Aa=tr.f,ja=gr,Pa=Zt,Ta=_a,Ma=ve("toStringTag"),La=function(t,e,r,n){if(t){var o=r?t:t.prototype;Pa(o,Ma)||Aa(o,Ma,{configurable:!0,value:e}),n&&!Oa&&ja(o,"toString",Ta)}},Ra=ka.IteratorPrototype,Ia=uo,Ca=G,Ua=La,Na=vo,Da=function(){return this},Fa=Pr,Ga=R,Va=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Ia(Ra,{next:Ca(+!n,r)}),Ua(t,o,!1,!0),Na[o]=Da,t},za=Wr,Wa=La,Ba=va,Qa=vo,Ha=pa.PROPER,qa=ka.BUGGY_SAFARI_ITERATORS,Ka=ve("iterator"),Ya=function(){return this},Ja=function(t,e,r,n,o,i,a){Va(r,e,n);var u,c,s,f=function(t){if(t===o&&d)return d;if(!qa&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",p=!1,h=t.prototype,v=h[Ka]||h["@@iterator"]||o&&h[o],d=!qa&&v||f(o),y="Array"==e&&h.entries||v;if(y&&(u=za(y.call(new t)))!==Object.prototype&&u.next&&(Wa(u,l,!0,!0),Qa[l]=Ya),Ha&&"values"==o&&v&&"values"!==v.name&&(p=!0,d=function(){return Ga(v,this)}),o)if(c={values:f("values"),keys:i?d:f("keys"),entries:f("entries")},a)for(s in c)(qa||p||!(s in h))&&Ba(h,s,c[s]);else Fa({target:e,proto:!0,forced:qa||p},c);return a&&h[Ka]!==d&&Ba(h,Ka,d,{name:o}),Qa[e]=d,c},Xa=et,Za=vo,$a=aa;tr.f;var tu=Ja,eu=$a.set,ru=$a.getterFor("Array Iterator");tu(Array,"Array",(function(t,e){eu(this,{type:"Array Iterator",target:Xa(t),index:0,kind:e})}),(function(){var t=ru(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),Za.Arguments=Za.Array;var nu=v.Promise,ou=va,iu=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:ou(t,n,e[n],r);return t},au=st,uu=tr,cu=T,su=ve("species"),fu=function(t){var e=au(t),r=uu.f;cu&&e&&!e[su]&&r(e,su,{configurable:!0,get:function(){return this}})},lu=ft,pu=v.TypeError,hu=function(t,e){if(lu(e,t))return t;throw pu("Incorrect invocation")},vu=ve("iterator"),du=!1;try{var yu=0,gu={next:function(){return{done:!!yu++}},return:function(){du=!0}};gu[vu]=function(){return this},Array.from(gu,(function(){throw 2}))}catch(t){}var mu=function(t,e){if(!e&&!du)return!1;var r=!1;try{var n={};n[vu]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},bu=A,wu=d,xu=j,Su=Po,ku=Ni,Eu=function(){},_u=[],Ou=st("Reflect","construct"),Au=/^\s*(?:class|function)\b/,ju=bu(Au.exec),Pu=!Au.exec(Eu),Tu=function(t){if(!xu(t))return!1;try{return Ou(Eu,_u,t),!0}catch(t){return!1}},Mu=function(t){if(!xu(t))return!1;switch(Su(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Pu||!!ju(Au,ku(t))}catch(t){return!0}};Mu.sham=!0;var Lu,Ru,Iu,Cu,Uu=!Ou||wu((function(){var t;return Tu(Tu.call)||!Tu(Object)||!Tu((function(){t=!0}))||t}))?Mu:Tu,Nu=Uu,Du=Tt,Fu=v.TypeError,Gu=ar,Vu=function(t){if(Nu(t))return t;throw Fu(Du(t)+" is not a constructor")},zu=ve("species"),Wu=function(t,e){var r,n=Gu(t).constructor;return void 0===n||null==(r=Gu(n)[zu])?e:Vu(r)},Bu=A([].slice),Qu=v.TypeError,Hu=function(t,e){if(t<e)throw Qu("Not enough arguments");return t},qu=/(?:ipad|iphone|ipod).*applewebkit/i.test(lt),Ku="process"==B(v.process),Yu=v,Ju=x,Xu=$e,Zu=j,$u=Zt,tc=d,ec=Yn,rc=Bu,nc=Pe,oc=Hu,ic=qu,ac=Ku,uc=Yu.setImmediate,cc=Yu.clearImmediate,sc=Yu.process,fc=Yu.Dispatch,lc=Yu.Function,pc=Yu.MessageChannel,hc=Yu.String,vc=0,dc={};try{Lu=Yu.location}catch(t){}var yc=function(t){if($u(dc,t)){var e=dc[t];delete dc[t],e()}},gc=function(t){return function(){yc(t)}},mc=function(t){yc(t.data)},bc=function(t){Yu.postMessage(hc(t),Lu.protocol+"//"+Lu.host)};uc&&cc||(uc=function(t){oc(arguments.length,1);var e=Zu(t)?t:lc(t),r=rc(arguments,1);return dc[++vc]=function(){Ju(e,void 0,r)},Ru(vc),vc},cc=function(t){delete dc[t]},ac?Ru=function(t){sc.nextTick(gc(t))}:fc&&fc.now?Ru=function(t){fc.now(gc(t))}:pc&&!ic?(Cu=(Iu=new pc).port2,Iu.port1.onmessage=mc,Ru=Xu(Cu.postMessage,Cu)):Yu.addEventListener&&Zu(Yu.postMessage)&&!Yu.importScripts&&Lu&&"file:"!==Lu.protocol&&!tc(bc)?(Ru=bc,Yu.addEventListener("message",mc,!1)):Ru="onreadystatechange"in nc("script")?function(t){ec.appendChild(nc("script")).onreadystatechange=function(){ec.removeChild(this),yc(t)}}:function(t){setTimeout(gc(t),0)});var wc,xc,Sc,kc,Ec,_c,Oc,Ac,jc={set:uc,clear:cc},Pc=v,Tc=/ipad|iphone|ipod/i.test(lt)&&void 0!==Pc.Pebble,Mc=/web0s(?!.*chrome)/i.test(lt),Lc=v,Rc=$e,Ic=P.f,Cc=jc.set,Uc=qu,Nc=Tc,Dc=Mc,Fc=Ku,Gc=Lc.MutationObserver||Lc.WebKitMutationObserver,Vc=Lc.document,zc=Lc.process,Wc=Lc.Promise,Bc=Ic(Lc,"queueMicrotask"),Qc=Bc&&Bc.value;Qc||(wc=function(){var t,e;for(Fc&&(t=zc.domain)&&t.exit();xc;){e=xc.fn,xc=xc.next;try{e()}catch(t){throw xc?kc():Sc=void 0,t}}Sc=void 0,t&&t.enter()},Uc||Fc||Dc||!Gc||!Vc?!Nc&&Wc&&Wc.resolve?((Oc=Wc.resolve(void 0)).constructor=Wc,Ac=Rc(Oc.then,Oc),kc=function(){Ac(wc)}):Fc?kc=function(){zc.nextTick(wc)}:(Cc=Rc(Cc,Lc),kc=function(){Cc(wc)}):(Ec=!0,_c=Vc.createTextNode(""),new Gc(wc).observe(_c,{characterData:!0}),kc=function(){_c.data=Ec=!Ec}));var Hc=Qc||function(t){var e={fn:t,next:void 0};Sc&&(Sc.next=e),xc||(xc=e,kc()),Sc=e},qc={},Kc=It,Yc=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Kc(e),this.reject=Kc(r)};qc.f=function(t){return new Yc(t)};var Jc=ar,Xc=nt,Zc=qc,$c=function(t,e){if(Jc(t),Xc(e)&&e.constructor===t)return e;var r=Zc.f(t);return(0,r.resolve)(e),r.promise},ts=v,es=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},rs=function(){this.head=null,this.tail=null};rs.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var ns,os,is,as="object"==typeof window,us=Pr,cs=v,ss=st,fs=R,ls=nu,ps=iu,hs=La,vs=fu,ds=It,ys=j,gs=nt,ms=hu,bs=Ni,ws=ii,xs=mu,Ss=Wu,ks=jc.set,Es=Hc,_s=$c,Os=function(t,e){var r=ts.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))},As=qc,js=es,Ps=rs,Ts=aa,Ms=Ye,Ls=as,Rs=Ku,Is=mt,Cs=ve("species"),Us="Promise",Ns=Ts.getterFor(Us),Ds=Ts.set,Fs=Ts.getterFor(Us),Gs=ls&&ls.prototype,Vs=ls,zs=Gs,Ws=cs.TypeError,Bs=cs.document,Qs=cs.process,Hs=As.f,qs=Hs,Ks=!!(Bs&&Bs.createEvent&&cs.dispatchEvent),Ys=ys(cs.PromiseRejectionEvent),Js=Ms(Us,(function(){var t=bs(Vs),e=t!==String(Vs);if(!e&&66===Is)return!0;if(!zs.finally)return!0;if(Is>=51&&/native code/.test(t))return!1;var r=new Vs((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[Cs]=n,!(r.then((function(){}))instanceof n)||!e&&Ls&&!Ys})),Xs=Js||!xs((function(t){Vs.all(t).catch((function(){}))})),Zs=function(t){var e;return!(!gs(t)||!ys(e=t.then))&&e},$s=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&of(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s(Ws("Promise-chain cycle")):(n=Zs(r))?fs(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},tf=function(t,e){t.notified||(t.notified=!0,Es((function(){for(var r,n=t.reactions;r=n.get();)$s(r,t);t.notified=!1,e&&!t.rejection&&rf(t)})))},ef=function(t,e,r){var n,o;Ks?((n=Bs.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),cs.dispatchEvent(n)):n={promise:e,reason:r},!Ys&&(o=cs["on"+t])?o(n):"unhandledrejection"===t&&Os("Unhandled promise rejection",r)},rf=function(t){fs(ks,cs,(function(){var e,r=t.facade,n=t.value;if(nf(t)&&(e=js((function(){Rs?Qs.emit("unhandledRejection",n,r):ef("unhandledrejection",r,n)})),t.rejection=Rs||nf(t)?2:1,e.error))throw e.value}))},nf=function(t){return 1!==t.rejection&&!t.parent},of=function(t){fs(ks,cs,(function(){var e=t.facade;Rs?Qs.emit("rejectionHandled",e):ef("rejectionhandled",e,t.value)}))},af=function(t,e,r){return function(n){t(e,n,r)}},uf=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,tf(t,!0))},cf=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Ws("Promise can't be resolved itself");var n=Zs(e);n?Es((function(){var r={done:!1};try{fs(n,e,af(cf,r,t),af(uf,r,t))}catch(e){uf(r,e,t)}})):(t.value=e,t.state=1,tf(t,!1))}catch(e){uf({done:!1},e,t)}}};Js&&(zs=(Vs=function(t){ms(this,zs),ds(t),fs(ns,this);var e=Ns(this);try{t(af(cf,e),af(uf,e))}catch(t){uf(e,t)}}).prototype,(ns=function(t){Ds(this,{type:Us,done:!1,notified:!1,parent:!1,reactions:new Ps,rejection:!1,state:0,value:void 0})}).prototype=ps(zs,{then:function(t,e){var r=Fs(this),n=Hs(Ss(this,Vs));return r.parent=!0,n.ok=!ys(t)||t,n.fail=ys(e)&&e,n.domain=Rs?Qs.domain:void 0,0==r.state?r.reactions.add(n):Es((function(){$s(n,r)})),n.promise},catch:function(t){return this.then(void 0,t)}}),os=function(){var t=new ns,e=Ns(t);this.promise=t,this.resolve=af(cf,e),this.reject=af(uf,e)},As.f=Hs=function(t){return t===Vs||t===is?new os(t):qs(t)}),us({global:!0,wrap:!0,forced:Js},{Promise:Vs}),hs(Vs,Us,!1,!0),vs(Us),is=ss(Us),us({target:Us,stat:!0,forced:Js},{reject:function(t){var e=Hs(this);return fs(e.reject,void 0,t),e.promise}}),us({target:Us,stat:!0,forced:true},{resolve:function(t){return _s(this===is?Vs:this,t)}}),us({target:Us,stat:!0,forced:Xs},{all:function(t){var e=this,r=Hs(e),n=r.resolve,o=r.reject,i=js((function(){var r=ds(e.resolve),i=[],a=0,u=1;ws(t,(function(t){var c=a++,s=!1;u++,fs(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=Hs(e),n=r.reject,o=js((function(){var o=ds(e.resolve);ws(t,(function(t){fs(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var sf=R,ff=It,lf=qc,pf=es,hf=ii;Pr({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=lf.f(e),n=r.resolve,o=r.reject,i=pf((function(){var r=ff(e.resolve),o=[],i=0,a=1;hf(t,(function(t){var u=i++,c=!1;a++,sf(r,e,t).then((function(t){c||(c=!0,o[u]={status:"fulfilled",value:t},--a||n(o))}),(function(t){c||(c=!0,o[u]={status:"rejected",reason:t},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var vf=It,df=st,yf=R,gf=qc,mf=es,bf=ii;Pr({target:"Promise",stat:!0},{any:function(t){var e=this,r=df("AggregateError"),n=gf.f(e),o=n.resolve,i=n.reject,a=mf((function(){var n=vf(e.resolve),a=[],u=0,c=1,s=!1;bf(t,(function(t){var f=u++,l=!1;c++,yf(n,e,t).then((function(t){l||s||(s=!0,o(t))}),(function(t){l||s||(l=!0,a[f]=t,--c||i(new r(a,"No one promise resolved")))}))})),--c||i(new r(a,"No one promise resolved"))}));return a.error&&i(a.value),n.promise}});var wf=nu,xf=st,Sf=j,kf=Wu,Ef=$c;Pr({target:"Promise",proto:!0,real:!0,forced:!!wf&&d((function(){wf.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=kf(this,xf("Promise")),r=Sf(t);return this.then(r?function(r){return Ef(e,t()).then((function(){return r}))}:t,r?function(r){return Ef(e,t()).then((function(){throw r}))}:t)}});var _f=A,Of=en,Af=ci,jf=Z,Pf=_f("".charAt),Tf=_f("".charCodeAt),Mf=_f("".slice),Lf=function(t){return function(e,r){var n,o,i=Af(jf(e)),a=Of(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=Tf(i,a))<55296||n>56319||a+1===u||(o=Tf(i,a+1))<56320||o>57343?t?Pf(i,a):n:t?Mf(i,a,a+2):o-56320+(n-55296<<10)+65536}},Rf={codeAt:Lf(!1),charAt:Lf(!0)}.charAt,If=ci,Cf=aa,Uf=Ja,Nf=Cf.set,Df=Cf.getterFor("String Iterator");Uf(String,"String",(function(t){Nf(this,{type:"String Iterator",string:If(t),index:0})}),(function(){var t,e=Df(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Rf(r,n),e.index+=t.length,{value:t,done:!1})}));var Ff=ot.Promise,Gf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Vf=v,zf=Po,Wf=gr,Bf=vo,Qf=ve("toStringTag");for(var Hf in Gf){var qf=Vf[Hf],Kf=qf&&qf.prototype;Kf&&zf(Kf)!==Qf&&Wf(Kf,Qf,Hf),Bf[Hf]=Bf.Array}var Yf=Ff,Jf=l(p.exports=Yf),Xf={exports:{}},Zf={exports:{}},$f={exports:{}},tl=B,el=Array.isArray||function(t){return"Array"==tl(t)},rl=_e,nl=tr,ol=G,il=function(t,e,r){var n=rl(e);n in t?nl.f(t,n,ol(0,r)):t[n]=r},al=v,ul=el,cl=Uu,sl=nt,fl=ve("species"),ll=al.Array,pl=function(t){var e;return ul(t)&&(e=t.constructor,(cl(e)&&(e===ll||ul(e.prototype))||sl(e)&&null===(e=e[fl]))&&(e=void 0)),void 0===e?ll:e},hl=function(t,e){return new(pl(t))(0===e?0:e)},vl=d,dl=mt,yl=ve("species"),gl=function(t){return dl>=51||!vl((function(){var e=[];return(e.constructor={})[yl]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ml=Pr,bl=v,wl=d,xl=el,Sl=nt,kl=Yt,El=ln,_l=il,Ol=hl,Al=gl,jl=mt,Pl=ve("isConcatSpreadable"),Tl=bl.TypeError,Ml=jl>=51||!wl((function(){var t=[];return t[Pl]=!1,t.concat()[0]!==t})),Ll=Al("concat"),Rl=function(t){if(!Sl(t))return!1;var e=t[Pl];return void 0!==e?!!e:xl(t)};ml({target:"Array",proto:!0,forced:!Ml||!Ll},{concat:function(t){var e,r,n,o,i,a=kl(this),u=Ol(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Rl(i=-1===e?a:arguments[e])){if(c+(o=El(i))>9007199254740991)throw Tl("Maximum allowed index exceeded");for(r=0;r<o;r++,c++)r in i&&_l(u,c,i[r])}else{if(c>=9007199254740991)throw Tl("Maximum allowed index exceeded");_l(u,c++,i)}return u.length=c,u}});var Il={},Cl=an,Ul=ln,Nl=il,Dl=v.Array,Fl=Math.max,Gl=B,Vl=et,zl=Zr.f,Wl=function(t,e,r){for(var n=Ul(t),o=Cl(e,n),i=Cl(void 0===r?n:r,n),a=Dl(Fl(i-o,0)),u=0;o<i;o++,u++)Nl(a,u,t[o]);return a.length=u,a},Bl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Il.f=function(t){return Bl&&"Window"==Gl(t)?function(t){try{return zl(t)}catch(t){return Wl(Bl)}}(t):zl(Vl(t))};var Ql={},Hl=ve;Ql.f=Hl;var ql=ot,Kl=Zt,Yl=Ql,Jl=tr.f,Xl=function(t){var e=ql.Symbol||(ql.Symbol={});Kl(e,t)||Jl(e,t,{value:Yl.f(t)})},Zl=$e,$l=J,tp=Yt,ep=ln,rp=hl,np=A([].push),op=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,h,v=tp(c),d=$l(v),y=Zl(s,f),g=ep(d),m=0,b=l||rp,w=e?b(c,g):r||a?b(c,0):void 0;g>m;m++)if((u||m in d)&&(h=y(p=d[m],m,v),t))if(e)w[m]=h;else if(h)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:np(w,p)}else switch(t){case 4:return!1;case 7:np(w,p)}return i?-1:n||o?o:w}},ip={forEach:op(0),map:op(1),filter:op(2),some:op(3),every:op(4),find:op(5),findIndex:op(6),filterReject:op(7)},ap=Pr,up=v,cp=st,sp=x,fp=R,lp=A,pp=T,hp=xt,vp=d,dp=Zt,yp=el,gp=j,mp=nt,bp=ft,wp=jt,xp=ar,Sp=Yt,kp=et,Ep=_e,_p=ci,Op=G,Ap=uo,jp=Vn,Pp=Zr,Tp=Il,Mp=An,Lp=P,Rp=tr,Ip=Dn,Cp=I,Up=Bu,Np=va,Dp=Vt.exports,Fp=gn,Gp=ne,Vp=ve,zp=Ql,Wp=Xl,Bp=La,Qp=aa,Hp=ip.forEach,qp=Rr("hidden"),Kp=Vp("toPrimitive"),Yp=Qp.set,Jp=Qp.getterFor("Symbol"),Xp=Object.prototype,Zp=up.Symbol,$p=Zp&&Zp.prototype,th=up.TypeError,eh=up.QObject,rh=cp("JSON","stringify"),nh=Lp.f,oh=Rp.f,ih=Tp.f,ah=Cp.f,uh=lp([].push),ch=Dp("symbols"),sh=Dp("op-symbols"),fh=Dp("string-to-symbol-registry"),lh=Dp("symbol-to-string-registry"),ph=Dp("wks"),hh=!eh||!eh.prototype||!eh.prototype.findChild,vh=pp&&vp((function(){return 7!=Ap(oh({},"a",{get:function(){return oh(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=nh(Xp,e);n&&delete Xp[e],oh(t,e,r),n&&t!==Xp&&oh(Xp,e,n)}:oh,dh=function(t,e){var r=ch[t]=Ap($p);return Yp(r,{type:"Symbol",tag:t,description:e}),pp||(r.description=e),r},yh=function(t,e,r){t===Xp&&yh(sh,e,r),xp(t);var n=Ep(e);return xp(r),dp(ch,n)?(r.enumerable?(dp(t,qp)&&t[qp][n]&&(t[qp][n]=!1),r=Ap(r,{enumerable:Op(0,!1)})):(dp(t,qp)||oh(t,qp,Op(1,{})),t[qp][n]=!0),vh(t,n,r)):oh(t,n,r)},gh=function(t,e){xp(t);var r=kp(e),n=jp(r).concat(xh(r));return Hp(n,(function(e){pp&&!fp(mh,r,e)||yh(t,e,r[e])})),t},mh=function(t){var e=Ep(t),r=fp(ah,this,e);return!(this===Xp&&dp(ch,e)&&!dp(sh,e))&&(!(r||!dp(this,e)||!dp(ch,e)||dp(this,qp)&&this[qp][e])||r)},bh=function(t,e){var r=kp(t),n=Ep(e);if(r!==Xp||!dp(ch,n)||dp(sh,n)){var o=nh(r,n);return!o||!dp(ch,n)||dp(r,qp)&&r[qp][n]||(o.enumerable=!0),o}},wh=function(t){var e=ih(kp(t)),r=[];return Hp(e,(function(t){dp(ch,t)||dp(Fp,t)||uh(r,t)})),r},xh=function(t){var e=t===Xp,r=ih(e?sh:kp(t)),n=[];return Hp(r,(function(t){!dp(ch,t)||e&&!dp(Xp,t)||uh(n,ch[t])})),n};if(hp||(Np($p=(Zp=function(){if(bp($p,this))throw th("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?_p(arguments[0]):void 0,e=Gp(t),r=function(t){this===Xp&&fp(r,sh,t),dp(this,qp)&&dp(this[qp],e)&&(this[qp][e]=!1),vh(this,e,Op(1,t))};return pp&&hh&&vh(Xp,e,{configurable:!0,set:r}),dh(e,t)}).prototype,"toString",(function(){return Jp(this).tag})),Np(Zp,"withoutSetter",(function(t){return dh(Gp(t),t)})),Cp.f=mh,Rp.f=yh,Ip.f=gh,Lp.f=bh,Pp.f=Tp.f=wh,Mp.f=xh,zp.f=function(t){return dh(Vp(t),t)},pp&&oh($p,"description",{configurable:!0,get:function(){return Jp(this).description}})),ap({global:!0,wrap:!0,forced:!hp,sham:!hp},{Symbol:Zp}),Hp(jp(ph),(function(t){Wp(t)})),ap({target:"Symbol",stat:!0,forced:!hp},{for:function(t){var e=_p(t);if(dp(fh,e))return fh[e];var r=Zp(e);return fh[e]=r,lh[r]=e,r},keyFor:function(t){if(!wp(t))throw th(t+" is not a symbol");if(dp(lh,t))return lh[t]},useSetter:function(){hh=!0},useSimple:function(){hh=!1}}),ap({target:"Object",stat:!0,forced:!hp,sham:!pp},{create:function(t,e){return void 0===e?Ap(t):gh(Ap(t),e)},defineProperty:yh,defineProperties:gh,getOwnPropertyDescriptor:bh}),ap({target:"Object",stat:!0,forced:!hp},{getOwnPropertyNames:wh,getOwnPropertySymbols:xh}),ap({target:"Object",stat:!0,forced:vp((function(){Mp.f(1)}))},{getOwnPropertySymbols:function(t){return Mp.f(Sp(t))}}),rh){var Sh=!hp||vp((function(){var t=Zp();return"[null]"!=rh([t])||"{}"!=rh({a:t})||"{}"!=rh(Object(t))}));ap({target:"JSON",stat:!0,forced:Sh},{stringify:function(t,e,r){var n=Up(arguments),o=e;if((mp(e)||void 0!==t)&&!wp(t))return yp(e)||(e=function(t,e){if(gp(o)&&(e=fp(o,this,t,e)),!wp(e))return e}),n[1]=e,sp(rh,null,n)}})}if(!$p[Kp]){var kh=$p.valueOf;Np($p,Kp,(function(t){return fp(kh,this)}))}Bp(Zp,"Symbol"),Fp[qp]=!0,Xl("asyncIterator"),Xl("hasInstance"),Xl("isConcatSpreadable"),Xl("iterator"),Xl("match"),Xl("matchAll"),Xl("replace"),Xl("search"),Xl("species"),Xl("split"),Xl("toPrimitive"),Xl("toStringTag"),Xl("unscopables"),La(v.JSON,"JSON",!0);var Eh=ot.Symbol;Xl("asyncDispose"),Xl("dispose"),Xl("matcher"),Xl("metadata"),Xl("observable"),Xl("patternMatch"),Xl("replaceAll"),$f.exports=Eh;var _h={exports:{}},Oh=Ql.f("iterator");_h.exports=Oh,function(t){var e=$f.exports,r=_h.exports;function n(o){return t.exports=n="function"==typeof e&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Zf);var Ah={exports:{}},jh={exports:{}},Ph=Pr,Th=T,Mh=tr.f;Ph({target:"Object",stat:!0,forced:Object.defineProperty!==Mh,sham:!Th},{defineProperty:Mh});var Lh=ot.Object,Rh=jh.exports=function(t,e,r){return Lh.defineProperty(t,e,r)};Lh.defineProperty.sham&&(Rh.sham=!0);var Ih=jh.exports;Ah.exports=Ih;var Ch={exports:{}};Pr({target:"Object",stat:!0,sham:!T},{create:uo});var Uh=ot.Object;Ch.exports=function(t,e){return Uh.create(t,e)};var Nh={exports:{}},Dh=Yt,Fh=Wr,Gh=Ir;Pr({target:"Object",stat:!0,forced:d((function(){Fh(1)})),sham:!Gh},{getPrototypeOf:function(t){return Fh(Dh(t))}});var Vh=ot.Object.getPrototypeOf;Nh.exports=Vh;var zh={exports:{}},Wh=d,Bh=function(t,e){var r=[][t];return!!r&&Wh((function(){r.call(null,e||function(){throw 1},1)}))},Qh=ip.forEach,Hh=Bh("forEach")?[].forEach:function(t){return Qh(this,t,arguments.length>1?arguments[1]:void 0)};Pr({target:"Array",proto:!0,forced:[].forEach!=Hh},{forEach:Hh});var qh=ot,Kh=function(t){return qh[t+"Prototype"]},Yh=Kh("Array").forEach,Jh=Po,Xh=Zt,Zh=ft,$h=Yh,tv=Array.prototype,ev={DOMTokenList:!0,NodeList:!0},rv=function(t){var e=t.forEach;return t===tv||Zh(tv,t)&&e===tv.forEach||Xh(ev,Jh(t))?$h:e};zh.exports=rv;var nv={exports:{}};Pr({target:"Object",stat:!0},{setPrototypeOf:Xr});var ov=ot.Object.setPrototypeOf;nv.exports=ov;var iv={exports:{}},av=Yf,uv=qc,cv=es;Pr({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=uv.f(this),r=cv(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}}),iv.exports=av;var sv={exports:{}},fv=Pr,lv=el,pv=A([].reverse),hv=[1,2];fv({target:"Array",proto:!0,forced:String(hv)===String(hv.reverse())},{reverse:function(){return lv(this)&&(this.length=this.length),pv(this)}});var vv=Kh("Array").reverse,dv=ft,yv=vv,gv=Array.prototype;sv.exports=function(t){var e=t.reverse;return t===gv||dv(gv,t)&&e===gv.reverse?yv:e};var mv={exports:{}},bv=Pr,wv=v,xv=el,Sv=Uu,kv=nt,Ev=an,_v=ln,Ov=et,Av=il,jv=ve,Pv=Bu,Tv=gl("slice"),Mv=jv("species"),Lv=wv.Array,Rv=Math.max;bv({target:"Array",proto:!0,forced:!Tv},{slice:function(t,e){var r,n,o,i=Ov(this),a=_v(i),u=Ev(t,a),c=Ev(void 0===e?a:e,a);if(xv(i)&&(r=i.constructor,(Sv(r)&&(r===Lv||xv(r.prototype))||kv(r)&&null===(r=r[Mv]))&&(r=void 0),r===Lv||void 0===r))return Pv(i,u,c);for(n=new(void 0===r?Lv:r)(Rv(c-u,0)),o=0;u<c;u++,o++)u in i&&Av(n,o,i[u]);return n.length=o,n}});var Iv=Kh("Array").slice,Cv=ft,Uv=Iv,Nv=Array.prototype,Dv=function(t){var e=t.slice;return t===Nv||Cv(Nv,t)&&e===Nv.slice?Uv:e};mv.exports=Dv,function(t){var e=Zf.exports.default,r=$f.exports,n=Ah.exports,o=Ch.exports,i=Nh.exports,a=zh.exports,u=nv.exports,c=iv.exports,s=sv.exports,f=mv.exports;function l(){t.exports=l=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var p={},h=Object.prototype,v=h.hasOwnProperty,d="function"==typeof r?r:{},y=d.iterator||"@@iterator",g=d.asyncIterator||"@@asyncIterator",m=d.toStringTag||"@@toStringTag";function b(t,e,r){return n(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(t){b=function(t,e,r){return t[e]=r}}function w(t,e,r,n){var i=e&&e.prototype instanceof k?e:k,a=o(i.prototype),u=new I(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return U()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=M(a,r);if(u){if(u===S)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=x(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===S)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,u),a}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}p.wrap=w;var S={};function k(){}function E(){}function _(){}var O={};b(O,y,(function(){return this}));var A=i&&i(i(C([])));A&&A!==h&&v.call(A,y)&&(O=A);var j=_.prototype=k.prototype=o(O);function P(t){var e;a(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,r){function n(o,i,a,u){var c=x(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==e(f)&&v.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):r.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function M(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,M(t,e),"throw"===e.method))return S;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var n=x(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,S;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,S):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,S)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],a(t).call(t,L,this),this.reset(!0)}function C(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(v.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:U}}function U(){return{value:void 0,done:!0}}return E.prototype=_,b(j,"constructor",_),b(_,"constructor",E),E.displayName=b(_,m,"GeneratorFunction"),p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return u?u(t,_):(t.__proto__=_,b(t,m,"GeneratorFunction")),t.prototype=o(j),t},p.awrap=function(t){return{__await:t}},P(T.prototype),b(T.prototype,g,(function(){return this})),p.AsyncIterator=T,p.async=function(t,e,r,n,o){void 0===o&&(o=c);var i=new T(w(t,e,r,n),o);return p.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},P(j),b(j,m,"Generator"),b(j,y,(function(){return this})),b(j,"toString",(function(){return"[object Generator]"})),p.keys=function(t){var e=[];for(var r in t)e.push(r);return s(e).call(e),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=C,I.prototype={constructor:I,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,a(e=this.tryEntries).call(e,R),!t)for(var r in this)"t"===r.charAt(0)&&v.call(this,r)&&!isNaN(+f(r).call(r,1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=v.call(o,"catchLoc"),u=v.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),S}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}(Xf);var Fv=Xf.exports(),Gv=Fv;try{regeneratorRuntime=Fv}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Fv:Function("r","regeneratorRuntime = r")(Fv)}var Vv={exports:{}},zv=ip.filter;Pr({target:"Array",proto:!0,forced:!gl("filter")},{filter:function(t){return zv(this,t,arguments.length>1?arguments[1]:void 0)}});var Wv=Kh("Array").filter,Bv=ft,Qv=Wv,Hv=Array.prototype,qv=l(Vv.exports=function(t){var e=t.filter;return t===Hv||Bv(Hv,t)&&e===Hv.filter?Qv:e}),Kv={exports:{}},Yv=l(Kv.exports=rv),Jv={exports:{}},Xv=Pr,Zv=ip.find,$v=!0;"find"in[]&&Array(1).find((function(){$v=!1})),Xv({target:"Array",proto:!0,forced:$v},{find:function(t){return Zv(this,t,arguments.length>1?arguments[1]:void 0)}});var td=Kh("Array").find,ed=ft,rd=td,nd=Array.prototype,od=l(Jv.exports=function(t){var e=t.find;return t===nd||ed(nd,t)&&e===nd.find?rd:e}),id={exports:{}},ad=Pr,ud=v,cd=x,sd=j,fd=Bu,ld=Hu,pd=/MSIE .\./.test(lt),hd=ud.Function,vd=function(t){return function(e,r){var n=ld(arguments.length,1)>2,o=sd(e)?e:hd(e),i=n?fd(arguments,2):void 0;return t(n?function(){cd(o,this,i)}:o,r)}};ad({global:!0,bind:!0,forced:pd},{setTimeout:vd(ud.setTimeout),setInterval:vd(ud.setInterval)});var dd=l(id.exports=ot.setInterval),yd={exports:{}},gd=l(yd.exports=Dv),md={exports:{}},bd=Kh("Array").concat,wd=ft,xd=bd,Sd=Array.prototype,kd=l(md.exports=function(t){var e=t.concat;return t===Sd||wd(Sd,t)&&e===Sd.concat?xd:e}),Ed={exports:{}},_d=l(Ed.exports=ot.setTimeout),Od=new Uint8Array([88,0,0,0]),Ad=new Uint8Array([26,165,74,6,73,7,72,8,71,9,70,10,69,11,68,12,67,13,66,14,65]),jd=new Uint8Array([24,255,1,0,0,0,0,0,0,0,0,0,0,0,0]),Pd=new Uint8Array([25,255,0,255,255,255,255]),Td=new Uint8Array([27,255,0,0,0,0,0,0,0,0,0]),Md={HEADER:Od,INIT:Ad,DISCONNECT:new Uint8Array([84]),START_MEASUREMENTS:jd,STOP_MEASUREMENTS:Pd,SET_MEASUREMENT_PERIOD:Td,GET_INFO:new Uint8Array([85]),GET_STATUS:new Uint8Array([16]),GET_SENSOR_IDS:new Uint8Array([81]),GET_SENSOR_INFO:new Uint8Array([80,0]),GET_DEFAULT_SENSORS_MASK:new Uint8Array([86])},Ld=6,Rd=7,Id=10,Cd=8,Ud=9,Nd=11,Dd=12,Fd=13,Gd=14,Vd=32,zd={exports:{}},Wd={exports:{}},Bd=d((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Qd=d,Hd=nt,qd=B,Kd=Bd,Yd=Object.isExtensible,Jd=Qd((function(){Yd(1)}))||Kd?function(t){return!!Hd(t)&&((!Kd||"ArrayBuffer"!=qd(t))&&(!Yd||Yd(t)))}:Yd,Xd=!d((function(){return Object.isExtensible(Object.preventExtensions({}))})),Zd=Pr,$d=A,ty=gn,ey=nt,ry=Zt,ny=tr.f,oy=Zr,iy=Il,ay=Jd,uy=Xd,cy=!1,sy=ne("meta"),fy=0,ly=function(t){ny(t,sy,{value:{objectID:"O"+fy++,weakData:{}}})},py=Wd.exports={enable:function(){py.enable=function(){},cy=!0;var t=oy.f,e=$d([].splice),r={};r[sy]=1,t(r).length&&(oy.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++)if(n[o]===sy){e(n,o,1);break}return n},Zd({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:iy.f}))},fastKey:function(t,e){if(!ey(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ry(t,sy)){if(!ay(t))return"F";if(!e)return"E";ly(t)}return t[sy].objectID},getWeakData:function(t,e){if(!ry(t,sy)){if(!ay(t))return!0;if(!e)return!1;ly(t)}return t[sy].weakData},onFreeze:function(t){return uy&&cy&&ay(t)&&!ry(t,sy)&&ly(t),t}};ty[sy]=!0;var hy=Pr,vy=v,dy=Wd.exports,yy=d,gy=gr,my=ii,by=hu,wy=j,xy=nt,Sy=La,ky=tr.f,Ey=ip.forEach,_y=T,Oy=aa.set,Ay=aa.getterFor,jy=tr.f,Py=uo,Ty=iu,My=$e,Ly=hu,Ry=ii,Iy=Ja,Cy=fu,Uy=T,Ny=Wd.exports.fastKey,Dy=aa.set,Fy=aa.getterFor,Gy={getConstructor:function(t,e,r,n){var o=t((function(t,o){Ly(t,i),Dy(t,{type:e,index:Py(null),first:void 0,last:void 0,size:0}),Uy||(t.size=0),null!=o&&Ry(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=Fy(e),u=function(t,e,r){var n,o,i=a(t),u=c(t,e);return u?u.value=r:(i.last=u={index:o=Ny(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=u),n&&(n.next=u),Uy?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},c=function(t,e){var r,n=a(t),o=Ny(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return Ty(i,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,Uy?t.size=0:this.size=0},delete:function(t){var e=this,r=a(e),n=c(e,t);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),Uy?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=a(this),n=My(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),Ty(i,r?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),Uy&&jy(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=Fy(e),i=Fy(n);Iy(t,e,(function(t,e){Dy(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),Cy(e)}},Vy=function(t,e,r){var n,o=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),a=o?"set":"add",u=vy[t],c=u&&u.prototype,s={};if(_y&&wy(u)&&(i||c.forEach&&!yy((function(){(new u).entries().next()})))){var f=(n=e((function(e,r){Oy(by(e,f),{type:t,collection:new u}),null!=r&&my(r,e[a],{that:e,AS_ENTRIES:o})}))).prototype,l=Ay(t);Ey(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in c)||i&&"clear"==t||gy(f,t,(function(r,n){var o=l(this).collection;if(!e&&i&&!xy(r))return"get"==t&&void 0;var a=o[t](0===r?0:r,n);return e?this:a}))})),i||ky(f,"size",{configurable:!0,get:function(){return l(this).collection.size}})}else n=r.getConstructor(e,t,o,a),dy.enable();return Sy(n,t,!1,!0),s[t]=n,hy({global:!0,forced:!0},s),i||r.setStrong(n,t,o),n};Vy("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Gy);var zy=l(zd.exports=ot.Map),Wy={exports:{}},By=It,Qy=Yt,Hy=J,qy=ln,Ky=v.TypeError,Yy=function(t){return function(e,r,n,o){By(r);var i=Qy(e),a=Hy(i),u=qy(i),c=t?u-1:0,s=t?-1:1;if(n<2)for(;;){if(c in a){o=a[c],c+=s;break}if(c+=s,t?c<0:u<=c)throw Ky("Reduce of empty array with no initial value")}for(;t?c>=0:u>c;c+=s)c in a&&(o=r(o,a[c],c,i));return o}},Jy={left:Yy(!1),right:Yy(!0)}.left,Xy=mt,Zy=Ku;Pr({target:"Array",proto:!0,forced:!Bh("reduce")||!Zy&&Xy>79&&Xy<83},{reduce:function(t){var e=arguments.length;return Jy(this,t,e,e>1?arguments[1]:void 0)}});var $y=Kh("Array").reduce,tg=ft,eg=$y,rg=Array.prototype,ng=l(Wy.exports=function(t){var e=t.reduce;return t===rg||tg(rg,t)&&e===rg.reduce?eg:e}),og={exports:{}},ig=Pr,ag=v,ug=an,cg=en,sg=ln,fg=Yt,lg=hl,pg=il,hg=gl("splice"),vg=ag.TypeError,dg=Math.max,yg=Math.min;ig({target:"Array",proto:!0,forced:!hg},{splice:function(t,e){var r,n,o,i,a,u,c=fg(this),s=sg(c),f=ug(t,s),l=arguments.length;if(0===l?r=n=0:1===l?(r=0,n=s-f):(r=l-2,n=yg(dg(cg(e),0),s-f)),s+r-n>9007199254740991)throw vg("Maximum allowed length exceeded");for(o=lg(c,n),i=0;i<n;i++)(a=f+i)in c&&pg(o,i,c[a]);if(o.length=n,r<n){for(i=f;i<s-n;i++)u=i+r,(a=i+n)in c?c[u]=c[a]:delete c[u];for(i=s;i>s-n+r;i--)delete c[i-1]}else if(r>n)for(i=s-n;i>f;i--)u=i+r-1,(a=i+n-1)in c?c[u]=c[a]:delete c[u];for(i=0;i<r;i++)c[i+f]=arguments[i+2];return c.length=s-n+r,o}});var gg=Kh("Array").splice,mg=ft,bg=gg,wg=Array.prototype,xg=l(og.exports=function(t){var e=t.splice;return t===wg||mg(wg,t)&&e===wg.splice?bg:e}),Sg=A,kg=It,Eg=nt,_g=Zt,Og=Bu,Ag=y,jg=v.Function,Pg=Sg([].concat),Tg=Sg([].join),Mg={},Lg=function(t,e,r){if(!_g(Mg,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";Mg[e]=jg("C,a","return new C("+Tg(n,",")+")")}return Mg[e](t,r)},Rg=Ag?jg.bind:function(t){var e=kg(this),r=e.prototype,n=Og(arguments,1),o=function(){var r=Pg(n,Og(arguments));return this instanceof o?Lg(e,r.length,r):e.apply(t,r)};return Eg(r)&&(o.prototype=r),o};Pr({target:"Function",proto:!0,forced:Function.bind!==Rg},{bind:Rg});Kh("Function").bind,Function.prototype;var Ig={exports:{}},Cg=ip.map;Pr({target:"Array",proto:!0,forced:!gl("map")},{map:function(t){return Cg(this,t,arguments.length>1?arguments[1]:void 0)}});var Ug=Kh("Array").map,Ng=ft,Dg=Ug,Fg=Array.prototype,Gg=l(Ig.exports=function(t){var e=t.map;return t===Fg||Ng(Fg,t)&&e===Fg.map?Dg:e}),Vg={exports:{}},zg=ar,Wg=Qo,Bg=$e,Qg=R,Hg=Yt,qg=function(t,e,r,n){try{return n?e(zg(r)[0],r[1]):e(r)}catch(e){Wg(t,"throw",e)}},Kg=bo,Yg=Uu,Jg=ln,Xg=il,Zg=Vo,$g=Io,tm=v.Array,em=function(t){var e=Hg(t),r=Yg(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Bg(o,n>2?arguments[2]:void 0));var a,u,c,s,f,l,p=$g(e),h=0;if(!p||this==tm&&Kg(p))for(a=Jg(e),u=r?new this(a):tm(a);a>h;h++)l=i?o(e[h],h):e[h],Xg(u,h,l);else for(f=(s=Zg(e,p)).next,u=r?new this:[];!(c=Qg(f,s)).done;h++)l=i?qg(s,o,[c.value,h],!0):c.value,Xg(u,h,l);return u.length=h,u};Pr({target:"Array",stat:!0,forced:!mu((function(t){Array.from(t)}))},{from:em});var rm=ot.Array.from,nm=l(Vg.exports=rm),om={exports:{}},im=en,am=ci,um=Z,cm=v.RangeError,sm=A,fm=sn,lm=ci,pm=Z,hm=sm((function(t){var e=am(um(this)),r="",n=im(t);if(n<0||n==1/0)throw cm("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r})),vm=sm("".slice),dm=Math.ceil,ym=function(t){return function(e,r,n){var o,i,a=lm(pm(e)),u=fm(r),c=a.length,s=void 0===n?" ":lm(n);return u<=c||""==s?a:((i=hm(s,dm((o=u-c)/s.length))).length>o&&(i=vm(i,0,o)),t?a+i:i+a)}},gm={start:ym(!1),end:ym(!0)},mm=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(lt),bm=gm.start;Pr({target:"String",proto:!0,forced:mm},{padStart:function(t){return bm(this,t,arguments.length>1?arguments[1]:void 0)}});var wm=Kh("String").padStart,xm=ft,Sm=wm,km=String.prototype,Em=l(om.exports=function(t){var e=t.padStart;return"string"==typeof t||t===km||xm(km,t)&&e===km.padStart?Sm:e}),_m=function(t){return 0!==t},Om=function(){function t(){r(this,t),this._listenerMap=new zy}return o(t,[{key:"on",value:function(t,e){this._listenerMap.has(t)||this._listenerMap.set(t,[]),this._listenerMap.get(t).push(e)}},{key:"off",value:function(t,e){var r=this._listenerMap.get(t);if(r&&r.length){var n=ng(r).call(r,(function(t,r,n){return"function"==typeof r&&r===e?t=n:t}),-1);if(n>-1)return xg(r).call(r,n,1),this._listenerMap.set(t,r),!0}return!1}},{key:"unbind",value:function(){this._listenerMap.clear()}},{key:"emit",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=this._listenerMap.get(t);return!(!o||!o.length)&&(Yv(o).call(o,(function(t){t.apply(void 0,r)})),!0)}}]),t}(),Am=function(){},jm=function(){};function Pm(t){var e;return Gg(e=nm(new Uint8Array(t))).call(e,(function(t){var e;return Em(e=t.toString(16)).call(e,2,"0")})).join(" ")}var Tm,Mm={exports:{}},Lm=Kh("Array").values,Rm=Po,Im=Zt,Cm=ft,Um=Lm,Nm=Array.prototype,Dm={DOMTokenList:!0,NodeList:!0},Fm=l(Mm.exports=function(t){var e=t.values;return t===Nm||Cm(Nm,t)&&e===Nm.values||Im(Dm,Rm(t))?Um:e}),Gm=o((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.type=e.type,this.mode=e.mode,this.minValue=e.minValue,this.maxValue=e.maxValue,this.uncertainty=e.uncertainty,this.minPeriod=e.minPeriod,this.maxPeriod=e.maxPeriod,this.typicalPeriod=e.typicalPeriod,this.granularity=e.granularity})),Vm=o((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.number=e.number,this.name=e.name,this.unit=e.unit,this.id=e.id,this.mutalExclusionMask=e.mutalExclusionMask,this.measurementInfo=e.measurementInfo})),zm=function(t){i(n,Om);var e=s(n);function n(t){var o;return r(this,n),(o=e.call(this)).number=t.number,o.name=t.name,o.unit=t.unit,o.specs=t,o.enabled=!1,o.values=[],o.value=null,o}return o(n,[{key:"clear",value:function(){this.value=null,this.values=[]}},{key:"setValue",value:function(t,e){this.value=t,e&&Fm(this).push(this.value),this.emit("value-changed",this)}},{key:"setEnabled",value:function(t){this.enabled!==t&&(this.enabled=t,this.emit("state-changed",this))}}]),n}(),Wm=function(t){i(m,Om);var n,a,u,c,f,l,p,h,v,d,y,g=s(m);function m(t){var e;if(r(this,m),e=g.call(this),"undefined"==typeof TextDecoder){var n=require("text-encoding");Tm=n.TextDecoder}else Tm=TextDecoder;return e.device=t,e.sensors=[],e.opened=!1,e.rollingCounter=0,e.collecting=!1,e.measurementPeriod=10,e.response=null,e.remainingResponseLength=0,e.defaultSensorsMask=0,e.keepValues=!0,e.minMeasurementPeriod=10,e.serialNumber="",e.orderCode="",e.name="",e}return o(m,[{key:"getBatteryLevel",value:(y=e(Gv.mark((function t(){var e;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getStatus();case 2:return e=t.sent,t.abrupt("return",e.battery);case 4:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"getChargingState",value:(d=e(Gv.mark((function t(){var e;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getStatus();case 2:return e=t.sent,t.abrupt("return",e.chargingStatus);case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"open",value:(v=e(Gv.mark((function t(){var e,r=arguments;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]&&r[0],!this.opened){t.next=3;break}throw new Error("Device cannot be opened because it is already open");case 3:return t.next=5,this._connect();case 5:return t.next=7,this._init();case 7:return t.next=9,this._getStatus();case 9:return t.next=11,this._getDeviceInfo();case 11:return t.next=13,this._getDefaultSensorsMask();case 13:return t.next=15,this._getAvailableSensors();case 15:this._onOpened(),e&&this.start();case 17:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"close",value:(h=e(Gv.mark((function t(){return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.opened){t.next=2;break}throw new Error("Device cannot be closed because it is not open");case 2:return t.next=4,this._stopMeasurements();case 4:return t.next=6,this._sendCommand(Md.DISCONNECT);case 6:return t.abrupt("return",this._disconnect());case 7:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"enableDefaultSensors",value:function(){for(var t=1,e=0;e<32;++e){if((this.defaultSensorsMask&t)===t){var r=this.getSensor(e);r&&r.setEnabled(!0)}t<<=1}}},{key:"start",value:function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=qv(t=this.sensors).call(t,(function(t){return t.enabled}));0===n.length&&(this.enableDefaultSensors(),n=qv(e=this.sensors).call(e,(function(t){return t.enabled})));Yv(n).call(n,(function(t){return t.clear()})),r&&(this.measurementPeriod=r),this._startMeasurements()}},{key:"stop",value:function(){this._stopMeasurements()}},{key:"getSensor",value:function(t){var e;return od(e=this.sensors).call(e,(function(e){return e.number===t}))}},{key:"_connect",value:(p=e(Gv.mark((function t(){var e=this;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.device.setup({onClosed:function(){return e._onClosed()},onResponse:function(t){return e._handleResponse(t)}}).then((function(){e.writeQueue=[],e.deviceWriteInterval=dd((function(){if(e.writeQueue&&e.writeQueue.length>0){var t=e.writeQueue[0];t.written||(e._writeToDevice(t.buffer),t.written=!0)}}),10)})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"_disconnect",value:(l=e(Gv.mark((function t(){return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearInterval(this.deviceWriteInterval),t.abrupt("return",this.device.close());case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"_init",value:function(){return this.collecting=!1,this.rollingCounter=255,this._sendCommand(Md.INIT)}},{key:"_handleResponse",value:function(t){var e,r,n,o;if(Am("command notified: ".concat(Pm(t.buffer))),this.remainingResponseLegnth>0){if(this.remainingResponseLegnth-=t.buffer.byteLength,this.response=new DataView((r=this.response.buffer,n=gd(e=t.buffer).call(e,0),(o=new Uint8Array(r.byteLength+n.byteLength)).set(new Uint8Array(r),0),o.set(new Uint8Array(n),r.byteLength),o.buffer)),this.remainingResponseLegnth>0)return}else this.response=t;var i=this.response.getUint8(1);if(i>this.response.buffer.byteLength)this.remainingResponseLegnth=i-this.response.buffer.byteLength;else if(Am("handle command: ".concat(Pm(this.response.buffer))),this.response.getUint8(0)===Vd)this._processMeasurements(this.response);else{var a=this.response.getUint8(4),u=this.response.getUint8(5),c=new DataView(this.response.buffer,6);this._resolveWriteCommand(a,u,c),this.remainingResponseLegnth=0,this.response=null}}},{key:"_getSensorsWithMask",value:function(t){for(var e=[],r=1,n=0;n<32;++n){if((t&r)===r){var o,i=this.getSensor(n);if(i)e.push(i),Am(kd(o="available: [".concat(t,"] ")).call(o,e[e.length-1].number))}r<<=1}return e}},{key:"_processMeasurements",value:function(t){var e=[],r=!0,n=0,o=0,i=t.getUint8(4);switch(i){case Ld:e=this._getSensorsWithMask(t.getUint16(5,!0)),n=t.getUint8(7,!0),o=9;break;case Rd:e=this._getSensorsWithMask(t.getUint32(5,!0)),n=t.getUint8(9,!0),o=11;break;case Id:case Cd:e[0]=this.getSensor(t.getUint8(6)),n=t.getUint8(7,!0),o=8;break;case Nd:case Ud:e[0]=this.getSensor(t.getUint8(6)),n=t.getUint8(7,!0),o=8,r=!1;break;case Dd:case Fd:case Gd:Am("Purposely Ignoring packet type: ".concat(i));break;default:Am("Unknown packet type: ".concat(i))}for(var a=0;a<n;++a)for(var u=0;u<e.length;++u)r?e[u].setValue(t.getFloat32(o,!0),this.keepValues):e[u].setValue(t.getInt32(o,!0),this.keepValues),o+=4}},{key:"_resolveWriteCommand",value:function(t,e,r){var n,o,i=od(n=this.writeQueue).call(n,(function(r){return r.command===t&&r.rollingCounter===e}));i&&(clearTimeout(i.timeout),this.writeQueue=qv(o=this.writeQueue).call(o,(function(t){return t!==i})),i.resolve(r))}},{key:"_onOpened",value:function(){Am("opened"),this.opened=!0,this.emit("device-opened")}},{key:"_onClosed",value:function(){Am("closed"),this.opened=!1,this.emit("device-closed")}},{key:"_decRollingCounter",value:function(){return this.rollingCounter-=1,this.rollingCounter}},{key:"_calculateChecksum",value:function(t){for(var e=t[1],r=-1*t[3],n=0;n<e;++n)r+=t[n],r&=255;return r<0||r>255?(Am("Checksum failed!"),0):r}},{key:"_sendCommand",value:function(t){var e=new Uint8Array(Md.HEADER.byteLength+t.byteLength);return e.set(new Uint8Array(Md.HEADER),0),e.set(new Uint8Array(t),Md.HEADER.byteLength),e[1]=e.length,e[2]=this._decRollingCounter(),e[3]=this._calculateChecksum(e),this._queueWriteCommand(e)}},{key:"_writeToDevice",value:(f=e(Gv.mark((function t(e){var r,n,o;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,o=e.length;case 2:if(!(o>0)){t.next=14;break}return t.prev=3,o>this.device.maxPacketLength?(r=e.subarray(n,n+this.device.maxPacketLength),o-=this.device.maxPacketLength,n+=this.device.maxPacketLength):(r=e.subarray(n,n+o),o=0),t.next=7,this.device.writeCommand(r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),Am("Write Failure: ".concat(t.t0));case 12:t.next=2;break;case 14:case"end":return t.stop()}}),t,this,[[3,9]])}))),function(t){return f.apply(this,arguments)})},{key:"_queueWriteCommand",value:function(t){var e=this;return Am("command queued: ".concat(Pm(t))),new Jf((function(r,n){var o={command:t[4],rollingCounter:t[2],buffer:t,written:!1,resolve:r,reject:n};o.timeout=_d((function(){var r,i;e.writeQueue=qv(r=e.writeQueue).call(r,(function(t){return t!==o})),n(new Error(kd(i="write command timed out after 5s. Command: ".concat(t[4].toString(16)," Rolling Counter: ")).call(i,t[2].toString(16))))}),5e3),e.writeQueue.push(o)}))}},{key:"_getStatus",value:(c=e(Gv.mark((function t(){var e,r,n,o;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendCommand(Md.GET_STATUS);case 2:return n=t.sent,o={mainFirmwareVersion:kd(e="".concat(n.getUint8(2),".")).call(e,n.getUint8(3)),bleFirmwareVersion:kd(r="".concat(n.getUint8(6),".")).call(r,n.getUint8(9)),battery:n.getUint8(10),chargingStatus:"".concat(n.getUint8(11))},t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"_getAvailableSensors",value:(u=e(Gv.mark((function t(){var e,r,n=this;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendCommand(Md.GET_SENSOR_IDS).then((function(t){n.availableSensors=t.getUint32(0,!0),Am("Get Available Sensors Returned ".concat(n.availableSensors))}));case 2:e=1,r=0;case 4:if(!(r<31)){t.next=12;break}if((this.availableSensors&e)!==e){t.next=8;break}return t.next=8,this._getSensorInfo(r);case 8:e<<=1;case 9:++r,t.next=4;break;case 12:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"_getDefaultSensorsMask",value:function(){var t=this;return this._sendCommand(Md.GET_DEFAULT_SENSORS_MASK).then((function(e){t.defaultSensorsMask=e.getUint32(0,!0),Am("Default Sensors:"),jm(t)}))}},{key:"_getDeviceInfo",value:function(){var t=this;return this._sendCommand(Md.GET_INFO).then((function(e){var r,n,o,i=new Tm("utf-8");t.orderCode=i.decode(qv(r=new Uint8Array(e.buffer,6,16)).call(r,_m)),t.serialNumber=i.decode(qv(n=new Uint8Array(e.buffer,22,16)).call(n,_m)),t.name=i.decode(qv(o=new Uint8Array(e.buffer,38,32)).call(o,_m)),Am("Device Info:"),jm(t)}))}},{key:"_getSensorInfo",value:(a=e(Gv.mark((function t(e){var r,n=this;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Uint8Array(Md.GET_SENSOR_INFO))[1]=e,t.abrupt("return",this._sendCommand(r).then((function(t){var e=t.getUint32(2,!0);if(e>0){var r,o,i=new Tm("utf-8"),a=new Gm({type:t.getUint8(6),mode:t.getUint8(7),minValue:t.getFloat64(108,!0),maxValue:t.getFloat64(116,!0),uncertainty:t.getFloat64(100,!0),minPeriod:t.getUint32(124,!0)/1e3,maxPeriod:((t.getUint32(132,!0)<<32)+t.getUint32(128,!0))/1e3,typicalPeriod:t.getUint32(136,!0)/1e3,granularity:t.getUint32(140,!0)/1e3}),u=new Vm({number:t.getUint8(0),name:i.decode(qv(r=new Uint8Array(t.buffer,14,60)).call(r,_m)),unit:i.decode(qv(o=new Uint8Array(t.buffer,74,32)).call(o,_m)),mutalExclusionMask:t.getUint32(144,!0),measurementInfo:a,sensorId:e}),c=new zm(u);Am("Get Sensor Info Returned"),jm(c),n.sensors.push(c),c.on("state-changed",(function(){var t;Am("Sensor Restart: ".concat(c.number)),c.enabled&&(n.measurementPeriod=c.specs.measurementInfo.typicalPeriod,Yv(t=n.sensors).call(t,(function(t){if(c.number!==t.number&&t.enabled){var e=1<<t.number;(e&c.specs.mutalExclusionMask)===e?t.enabled=!1:t.specs.measurementInfo.typicalPeriod>n.measurementPeriod&&(n.measurementPeriod=t.specs.measurementInfo.typicalPeriod)}}))),n._restartMeasurements()}))}})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"_restartMeasurements",value:(n=e(Gv.mark((function t(){var e;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.collecting,!this.collecting){t.next=10;break}return t.prev=2,t.next=5,this._stopMeasurements();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:if(this.collecting||!e){t.next=19;break}return t.prev=11,t.next=14,this._startMeasurements();case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(11),console.error(t.t1);case 19:case"end":return t.stop()}}),t,this,[[2,7],[11,16]])}))),function(){return n.apply(this,arguments)})},{key:"_setMeasurementPeriod",value:function(t){var e=new Uint8Array(Md.SET_MEASUREMENT_PERIOD),r=1e3*this.minMeasurementPeriod;return t<r&&(t=r),Am("MeasurementPeriod: ".concat(t)),e[3]=t>>0&255,e[4]=t>>8&255,e[5]=t>>16&255,e[6]=t>>24&255,this._sendCommand(e)}},{key:"_getEnabledChannelMask",value:function(){var t,e=0,r=qv(t=this.sensors).call(t,(function(t){return t.enabled}));return Yv(r).call(r,(function(t){e+=1<<t.number})),e}},{key:"_startMeasurements",value:function(){var t=this;return this._setMeasurementPeriod(1e3*this.measurementPeriod).then((function(){var e=t._getEnabledChannelMask();Am("ChannelMask: ".concat(e));var r=new Uint8Array(Md.START_MEASUREMENTS);return r[3]=e>>0&255,r[4]=e>>8&255,r[5]=e>>16&255,r[6]=e>>24&255,t._sendCommand(r).then((function(e){0===e.getUint8(0)&&(t.collecting=!0,t.emit("measurements-started"))}))}))}},{key:"_stopMeasurements",value:function(){var t=this;return this._sendCommand(Md.STOP_MEASUREMENTS).then((function(e){0===e.getUint8(0)&&(t.collecting=!1,t.emit("measurements-stopped"))}))}}]),m}(),Bm=function(){function t(e){r(this,t),this.webBluetoothNativeDevice=e,this.maxPacketLength=20,this.deviceCommand=null,this.deviceResponse=null}var n,i,a;return o(t,[{key:"godirectAdapter",get:function(){return!0}},{key:"writeCommand",value:(a=e(Gv.mark((function t(e){return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.deviceCommand.writeValue(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setup",value:(i=e(Gv.mark((function t(e){var r,n,o,i,a,u=this;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.onClosed,n=e.onResponse,this.webBluetoothNativeDevice.addEventListener("gattserverdisconnected",r),t.prev=2,t.next=5,this.webBluetoothNativeDevice.gatt.connect();case 5:return o=t.sent,t.next=8,o.getPrimaryService("d91714ef-28b9-4f91-ba16-f0d9a604f112");case 8:return i=t.sent,t.next=11,i.getCharacteristics();case 11:a=t.sent,Yv(a).call(a,(function(t){switch(t.uuid){case"f4bf14a6-c7d5-4b6d-8aa8-df1a7c83adcb":u.deviceCommand=t;break;case"b41e6675-a329-40e0-aa01-44d2f444babe":u.deviceResponse=t,u.deviceResponse.addEventListener("characteristicvaluechanged",(function(t){var e=t.target.value;n(e)})),u.deviceResponse.startNotifications();break;default:Am("No case found for ".concat(t.uuid))}})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.error(t.t0);case 18:if(this.deviceCommand&&this.deviceResponse){t.next=20;break}throw new Error("Expected command and response characteristics not found");case 20:case"end":return t.stop()}}),t,this,[[2,15]])}))),function(t){return i.apply(this,arguments)})},{key:"close",value:(n=e(Gv.mark((function t(){return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.webBluetoothNativeDevice.gatt.disconnect());case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),Qm=function(){function t(e){r(this,t),this.webUsbNativeDevice=e,this.onResponse=null,this.onClosed=null,this.reportId=0,this.maxPacketLength=63}var n,i,a;return o(t,[{key:"godirectAdapter",get:function(){return!0}},{key:"writeCommand",value:(a=e(Gv.mark((function t(e){var r;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Uint8Array(64))[0]=e.byteLength,r.set(e,1),t.abrupt("return",this.webUsbNativeDevice.sendReport(this.reportId,r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setup",value:(i=e(Gv.mark((function t(e){var r,n,o=this;return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.onClosed,n=e.onResponse,t.next=3,this.webUsbNativeDevice.open();case 3:this.onResponse=n,this.onClosed=r,this.reportId=this.webUsbNativeDevice.collections[0].outputReports[0].reportId,this.webUsbNativeDevice.oninputreport=function(t){var e,r=new DataView(gd(e=t.data.buffer).call(e,1));o.onResponse(r)};case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"close",value:(n=e(Gv.mark((function t(){return Gv.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.webUsbNativeDevice.close(),this.onClosed();case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),Hm={createDevice:function(t){var r=arguments;return e(Gv.mark((function e(){var n,o,i,a,u,c,s;return Gv.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},o=n.open,i=void 0===o||o,a=n.startMeasurements,u=void 0===a||a,(c=t).godirectAdapter){e.next=12;break}if(!t.gatt){e.next=7;break}c=new Bm(t),e.next=12;break;case 7:if(!t.collections[0].outputReports[0]){e.next=11;break}c=new Qm(t),e.next=12;break;case 11:throw new Error("Device Open Failed [ No matching adapter ]");case 12:if(s=new Wm(c),!i){e.next=23;break}return e.prev=14,e.next=17,s.open(u);case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(14),console.error(e.t0),new Error("Device Open Failed [".concat(e.t0,"]"));case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[14,19]])})))()},selectDevice:function(){var t=arguments;return e(Gv.mark((function e(){var r,n;return Gv.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t.length>0&&void 0!==t[0])||t[0])){e.next=9;break}if(navigator.bluetooth){e.next=4;break}return e.abrupt("return",Jf.reject(new Error("No Web Bluetooth support.")));case 4:return e.next=6,navigator.bluetooth.requestDevice({filters:[{namePrefix:"GDX"}],optionalServices:["d91714ef-28b9-4f91-ba16-f0d9a604f112"]});case 6:r=e.sent,e.next=15;break;case 9:if(navigator.hid){e.next=11;break}return e.abrupt("return",Jf.reject(new Error("No Web HID support.")));case 11:return e.next=13,navigator.hid.requestDevice({filters:[{vendorId:2295,productId:16}]});case 13:n=e.sent,r=n[0];case 15:if(r){e.next=17;break}throw new DOMException("No device selected.");case 17:return e.abrupt("return",Hm.createDevice(r));case 18:case"end":return e.stop()}}),e)})))()}};module.exports=Hm;
